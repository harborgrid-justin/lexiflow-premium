import { MigrationInterface, QueryRunner } from "typeorm";

export class CreateExaminationTable1766667366047 implements MigrationInterface {
    name = 'CreateExaminationTable1766667366047'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`DROP INDEX "public"."IDX_65121ce59bf1c4494a6dba198f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_7d77de01724832564f1ede6b32"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_4981129d48833f45cc3e70f06b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_a05abf52c264c8a6ecc208f8b9"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_2365eb2f0072d4954571249bc0"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_c8e2e03f6ca601b6e2c70e5caa"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_cacf54450cd9d98eac14aeb3c7"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_2a79b155e14a264153b91264e6"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_d55026287f00cca3b633a1127a"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_6ede069fea928df922a8b7371c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_6afd517ccbf611a8194629bfc6"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_8bc40b749f035a74bde1b7409a"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_3983a5b63b73ffa78f41131eb5"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_d49d96d97527513d451f8b866c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_99dbaf1969c181030db8817d68"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_5666769bf32c56b8bd0cf71658"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_8708cd4de43f55001fc1734ca0"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_fb1343b1ae1968a348d1ebea73"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_c31c455f4a8c274dbd46a498b4"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_626c200d81876571d9f4894963"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_3ddc983c5f7bcf132fd8732c3f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_ba3bd69c8ad1e799c0256e9e50"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_19847b88d090c565c216842ac0"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_42e7d7566e6aed123e97851444"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_dcc7661a87eec741c8c5a68724"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_5dca229ddbb793b3446fc75771"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_8d5281f4d4aab078772132e7ee"`);
        await queryRunner.query(`ALTER TABLE "monitoring_metrics" RENAME COLUMN "recorded_at" TO "recordedAt"`);
        await queryRunner.query(`ALTER TABLE "trust_accounts" RENAME COLUMN "deleted_at" TO "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "data_versions" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "data_versions" DROP COLUMN "entity_id"`);
        await queryRunner.query(`ALTER TABLE "data_versions" DROP COLUMN "commit_message"`);
        await queryRunner.query(`ALTER TABLE "data_versions" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "data_versions" DROP COLUMN "entity_type"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "conducted_by"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "scheduled_date"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "witness_name"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "case_id"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "trial_events" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "trial_events" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "trial_events" DROP COLUMN "case_id"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "entity_type"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "remote_version"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "resolved_at"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "conflict_type"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "resolved_by"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "entity_id"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "local_version"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "synced_at"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "entity_id"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "retry_count"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "entity_type"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "search_queries" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "search_queries" DROP COLUMN "response_time_ms"`);
        await queryRunner.query(`ALTER TABLE "search_queries" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "search_queries" DROP COLUMN "entity_type"`);
        await queryRunner.query(`ALTER TABLE "search_queries" DROP COLUMN "results_count"`);
        await queryRunner.query(`ALTER TABLE "search_index" DROP COLUMN "entity_id"`);
        await queryRunner.query(`ALTER TABLE "search_index" DROP COLUMN "entity_type"`);
        await queryRunner.query(`ALTER TABLE "search_index" DROP COLUMN "indexed_at"`);
        await queryRunner.query(`ALTER TABLE "search_index" DROP COLUMN "client_id"`);
        await queryRunner.query(`ALTER TABLE "search_index" DROP COLUMN "case_id"`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" DROP COLUMN "size_bytes"`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" DROP COLUMN "applied_at"`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" DROP COLUMN "applied_by"`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "risk_score"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "identified_by"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "case_id"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "mitigation_strategy"`);
        await queryRunner.query(`ALTER TABLE "reports" DROP COLUMN "template_id"`);
        await queryRunner.query(`ALTER TABLE "reports" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "reports" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "reports" DROP COLUMN "file_path"`);
        await queryRunner.query(`ALTER TABLE "reports" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "report_templates" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "report_templates" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "report_templates" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "report_templates" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "saved_queries" DROP COLUMN "is_shared"`);
        await queryRunner.query(`ALTER TABLE "saved_queries" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "saved_queries" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "saved_queries" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "query_history" DROP COLUMN "rows_affected"`);
        await queryRunner.query(`ALTER TABLE "query_history" DROP COLUMN "executed_at"`);
        await queryRunner.query(`ALTER TABLE "query_history" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "query_history" DROP COLUMN "execution_time_ms"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "document_id"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "completed_at"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "processing_time"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "started_at"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "jurisdiction_id"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "formatting_rules"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "default_sections"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "usage_count"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "updated_by"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "error_message"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "page_count"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "started_at"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "processed_pages"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "document_id"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "extracted_text"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "completed_at"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "file_path"`);
        await queryRunner.query(`ALTER TABLE "system_alerts" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "system_alerts" DROP COLUMN "resolved_at"`);
        await queryRunner.query(`ALTER TABLE "system_alerts" DROP COLUMN "acknowledged_by"`);
        await queryRunner.query(`ALTER TABLE "system_alerts" DROP COLUMN "acknowledged_at"`);
        await queryRunner.query(`ALTER TABLE "performance_metrics" DROP COLUMN "metric_name"`);
        await queryRunner.query(`ALTER TABLE "performance_metrics" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" DROP COLUMN "acknowledged_at"`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" DROP COLUMN "acknowledged_by"`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" DROP COLUMN "view_count"`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" DROP COLUMN "author_id"`);
        await queryRunner.query(`ALTER TABLE "integrations" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "integrations" DROP COLUMN "sync_enabled"`);
        await queryRunner.query(`ALTER TABLE "integrations" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "integrations" DROP COLUMN "last_synced_at"`);
        await queryRunner.query(`ALTER TABLE "integrations" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "target_billable_hours"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "billing_rate"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "first_name"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "hire_date"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "last_name"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "end_date"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "denial_reason"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "approved_by"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "employee_id"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "start_date"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "approved_at"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "records_failed"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "duration_ms"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "pipeline_id"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "records_processed"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "started_at"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "completed_at"`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" DROP COLUMN "checked_at"`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" DROP COLUMN "rule_id"`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" DROP COLUMN "case_id"`);
        await queryRunner.query(`ALTER TABLE "templates" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "templates" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "templates" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "communications" DROP COLUMN "sent_at"`);
        await queryRunner.query(`ALTER TABLE "communications" DROP COLUMN "case_id"`);
        await queryRunner.query(`ALTER TABLE "communications" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "communications" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "next_run"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "retention_days"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "last_run"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "cron_expression"`);
        await queryRunner.query(`ALTER TABLE "schema_backups" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "schema_backups" DROP COLUMN "size_bytes"`);
        await queryRunner.query(`ALTER TABLE "schema_backups" DROP COLUMN "includes_data"`);
        await queryRunner.query(`ALTER TABLE "schema_backups" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "schema_backups" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "login_attempts" DROP COLUMN "ip_address"`);
        await queryRunner.query(`ALTER TABLE "login_attempts" DROP COLUMN "failure_reason"`);
        await queryRunner.query(`ALTER TABLE "login_attempts" DROP COLUMN "user_agent"`);
        await queryRunner.query(`ALTER TABLE "login_attempts" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "user_agent"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "ip_address"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "last_used_at"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "request_count"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "rate_limit"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "key_prefix"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "key_hash"`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" DROP COLUMN "snapshot_date"`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" DROP COLUMN "snapshot_type"`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "dashboards" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "dashboards" DROP COLUMN "is_public"`);
        await queryRunner.query(`ALTER TABLE "dashboards" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "dashboards" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "entity_id"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "entity_type"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "event_type"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "ai_operations" DROP COLUMN "processing_time"`);
        await queryRunner.query(`ALTER TABLE "ai_operations" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "ai_operations" DROP COLUMN "completed_at"`);
        await queryRunner.query(`ALTER TABLE "ai_operations" DROP COLUMN "operation_type"`);
        await queryRunner.query(`DROP TYPE "public"."ai_operations_operation_type_enum"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "status"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "config"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "last_used"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "performance"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "usage_count"`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" DROP COLUMN "entity_id"`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" DROP COLUMN "entity_type"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "active"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "provider"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "configuration"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "updated_by"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "total_pages"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "bates_prefix"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "bates_end"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "request_date"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "recipient_party"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "assigned_to"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "case_id"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "production_number"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "due_date"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "total_size"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "tracking_number"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "output_path"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "production_cost"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "total_documents"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "search_criteria"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "production_name"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "delivery_method"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "production_date"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "bates_start"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "include_redactions"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "production_notes"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "include_privilege_log"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "report_path"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "examiner_specialty"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "scheduled_date"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "examiner_organization"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "dispute_reason"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "completed_date"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "request_date"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "report_received_date"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "examination_title"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "updated_by"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "case_id"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "assigned_attorney"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "requesting_party"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "actual_cost"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "duration_minutes"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "is_report_received"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "estimated_cost"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "expense_id"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "ledes_code"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "user_name"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "time_entry_id"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "phase_code"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "task_code"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "signed_date"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "expense_markup"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "signed_by"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "matter_description"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "responsible_attorney"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "special_provisions"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "fixed_fee_amount"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "discount_percentage"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "payment_schedule"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "late_payment_rate"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "minimum_recovery"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "client_name"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "standard_rate"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "expense_cap"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP CONSTRAINT "UQ_ef46494612220cb0b607d1e8ba6"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "agreement_number"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "agreement_type"`);
        await queryRunner.query(`DROP TYPE "public"."fee_agreements_agreement_type_enum"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "retainer_amount"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "overage_rate"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "termination_date"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "retainer_replenishment"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "included_hours"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "effective_date"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "payment_terms_days"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "expenses_billable"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "contingency_percentage"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "retainer_refundable"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "scope_of_work"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "billing_frequency"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "monthly_fee"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "document_url"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "rate_table_id"`);
        await queryRunner.query(`ALTER TABLE "data_versions" ADD "entityType" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "data_versions" ADD "entityId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "data_versions" ADD "commitMessage" text`);
        await queryRunner.query(`ALTER TABLE "data_versions" ADD "createdBy" character varying`);
        await queryRunner.query(`ALTER TABLE "data_versions" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "witnessName" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "scheduledDate" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "conductedBy" character varying`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "trial_events" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "trial_events" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "entityType" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "entityId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "localVersion" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "remoteVersion" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "conflictType" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "resolvedBy" character varying`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "resolvedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "entityType" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "entityId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "retryCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "userId" character varying`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "syncedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "search_queries" ADD "userId" uuid`);
        await queryRunner.query(`ALTER TABLE "search_queries" ADD "entityType" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "search_queries" ADD "resultsCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "search_queries" ADD "responseTimeMs" integer`);
        await queryRunner.query(`ALTER TABLE "search_queries" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "search_index" ADD "entityType" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "search_index" ADD "entityId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "search_index" ADD "clientId" uuid`);
        await queryRunner.query(`ALTER TABLE "search_index" ADD "indexedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" ADD "sizeBytes" bigint NOT NULL`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" ADD "createdBy" character varying`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" ADD "appliedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" ADD "appliedBy" character varying`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "mitigationStrategy" text`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "riskScore" numeric(3,1)`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "identifiedBy" character varying`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reports" ADD "templateId" character varying`);
        await queryRunner.query(`ALTER TABLE "reports" ADD "filePath" character varying`);
        await queryRunner.query(`ALTER TABLE "reports" ADD "userId" character varying`);
        await queryRunner.query(`ALTER TABLE "reports" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reports" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "report_templates" ADD "createdBy" character varying`);
        await queryRunner.query(`ALTER TABLE "report_templates" ADD "isActive" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "report_templates" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "report_templates" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "saved_queries" ADD "userId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "saved_queries" ADD "isShared" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "saved_queries" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "saved_queries" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "query_history" ADD "userId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "query_history" ADD "executionTimeMs" integer`);
        await queryRunner.query(`ALTER TABLE "query_history" ADD "rowsAffected" integer`);
        await queryRunner.query(`ALTER TABLE "query_history" ADD "executedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "documentId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "startedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "completedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "processingTime" integer`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "createdBy" uuid`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "defaultSections" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "formattingRules" jsonb`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "jurisdictionId" character varying`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "isActive" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "usageCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "createdBy" character varying`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "updatedBy" character varying`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "documentId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "filePath" character varying(500) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "extractedText" text`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "pageCount" integer`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "processedPages" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "errorMessage" text`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "startedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "completedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "system_alerts" ADD "acknowledgedBy" character varying`);
        await queryRunner.query(`ALTER TABLE "system_alerts" ADD "acknowledgedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "system_alerts" ADD "resolvedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "system_alerts" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "performance_metrics" ADD "metricName" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "performance_metrics" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" ADD "acknowledgedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" ADD "acknowledgedBy" character varying`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" ADD "authorId" character varying`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" ADD "viewCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "integrations" ADD "syncEnabled" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "integrations" ADD "lastSyncedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "integrations" ADD "userId" character varying`);
        await queryRunner.query(`ALTER TABLE "integrations" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "integrations" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "firstName" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "lastName" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "hireDate" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "billingRate" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "targetBillableHours" integer`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "startDate" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "endDate" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "approvedBy" character varying`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "approvedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "denialReason" text`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "recordsProcessed" integer`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "recordsFailed" integer`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "durationMs" integer`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "startedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "completedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" ADD "isActive" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" ADD "caseId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" ADD "ruleId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" ADD "checkedAt" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "templates" ADD "isActive" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "templates" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "templates" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "communications" ADD "caseId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "communications" ADD "sentAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "communications" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "communications" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" ADD "createdBy" character varying`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" ADD "expiresAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "cronExpression" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "retentionDays" integer NOT NULL DEFAULT '7'`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "lastRun" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "nextRun" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "schema_backups" ADD "sizeBytes" bigint NOT NULL`);
        await queryRunner.query(`ALTER TABLE "schema_backups" ADD "includesData" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "schema_backups" ADD "createdBy" character varying`);
        await queryRunner.query(`ALTER TABLE "schema_backups" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "schema_backups" ADD "expiresAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "login_attempts" ADD "ipAddress" character varying(45) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "login_attempts" ADD "failureReason" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "login_attempts" ADD "userAgent" character varying(100)`);
        await queryRunner.query(`ALTER TABLE "login_attempts" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "expiresAt" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "userAgent" character varying(100)`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "ipAddress" character varying(45)`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "keyPrefix" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "keyHash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "expiresAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "rateLimit" integer NOT NULL DEFAULT '1000'`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "lastUsedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "requestCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "isActive" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "userId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" ADD "userId" uuid`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" ADD "snapshotType" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" ADD "snapshotDate" date NOT NULL`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "dashboards" ADD "userId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "dashboards" ADD "isPublic" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "dashboards" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "dashboards" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "eventType" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "entityType" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "entityId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "userId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`CREATE TYPE "public"."ai_operations_operationtype_enum" AS ENUM('summarization', 'classification', 'extraction', 'prediction', 'generation')`);
        await queryRunner.query(`ALTER TABLE "ai_operations" ADD "operationType" "public"."ai_operations_operationtype_enum" NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ai_operations" ADD "processingTime" integer`);
        await queryRunner.query(`ALTER TABLE "ai_operations" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ai_operations" ADD "completedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "provider" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "configuration" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "usageCount" bigint NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "lastUsed" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" ADD "entityType" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" ADD "entityId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "description" text`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "config" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "status" character varying(20) NOT NULL DEFAULT 'active'`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "performance" jsonb`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "caseId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "productionName" character varying(300) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "productionNumber" character varying(100)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "recipientParty" character varying(200)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "requestDate" date`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "dueDate" date`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "productionDate" date`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "batesPrefix" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "batesStart" bigint`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "batesEnd" bigint`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "totalDocuments" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "totalPages" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "totalSize" bigint`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "outputPath" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "includePrivilegeLog" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "includeRedactions" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "searchCriteria" jsonb`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "productionNotes" text`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "deliveryMethod" character varying(300)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "trackingNumber" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "productionCost" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "assignedTo" uuid`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "createdBy" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "updatedBy" uuid`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "deletedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "caseId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "examinationTitle" character varying(300) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "examinerOrganization" character varying(300)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "examinerSpecialty" character varying(200)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "requestDate" date`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "scheduledDate" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "completedDate" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "durationMinutes" integer`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "requestingParty" character varying(200)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "isReportReceived" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "reportReceivedDate" date`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "reportPath" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "estimatedCost" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "actualCost" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "disputeReason" text`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "assignedAttorney" uuid`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "createdBy" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "updatedBy" uuid`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "createdAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "updatedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "deletedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "timeEntryId" uuid`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "expenseId" uuid`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "userId" uuid`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "userName" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "ledesCode" character varying(20)`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "phaseCode" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "taskCode" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "agreementNumber" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD CONSTRAINT "UQ_c910b37a8a268c08af31c6e4f4a" UNIQUE ("agreementNumber")`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "clientName" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "matterDescription" character varying(500)`);
        await queryRunner.query(`CREATE TYPE "public"."fee_agreements_agreementtype_enum" AS ENUM('Hourly', 'Fixed Fee', 'Contingency', 'Hybrid', 'Retainer', 'Subscription')`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "agreementType" "public"."fee_agreements_agreementtype_enum" NOT NULL`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "effectiveDate" date NOT NULL`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "terminationDate" date`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "standardRate" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "rateTableId" uuid`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "fixedFeeAmount" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "paymentSchedule" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "contingencyPercentage" numeric(5,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "minimumRecovery" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "retainerAmount" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "retainerRefundable" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "retainerReplenishment" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "monthlyFee" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "includedHours" integer`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "overageRate" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "expensesBillable" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "expenseMarkup" numeric(5,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "expenseCap" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "paymentTermsDays" integer NOT NULL DEFAULT '30'`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "billingFrequency" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "latePaymentRate" numeric(5,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "discountPercentage" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "scopeOfWork" text`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "specialProvisions" text`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "documentUrl" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "signedDate" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "signedBy" uuid`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "responsibleAttorney" uuid`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "deletedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP CONSTRAINT "FK_3a7d9cd0d420e11136a50e25f93"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ALTER COLUMN "caseId" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "trial_events" DROP CONSTRAINT "FK_bc7d5ddd431b24e6c54a539dee7"`);
        await queryRunner.query(`ALTER TABLE "trial_events" ALTER COLUMN "caseId" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP CONSTRAINT "FK_0cf85f4d0030faff30be5cdd734"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ALTER COLUMN "employeeId" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP CONSTRAINT "FK_ef81e383db5f4c787e11a0060e6"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ALTER COLUMN "pipelineId" SET NOT NULL`);
        await queryRunner.query(`CREATE INDEX "IDX_87fd3a154a6ba00be114c89fe3" ON "search_queries" ("userId") `);
        await queryRunner.query(`CREATE INDEX "IDX_6817a99cdd00e627ca9c6071b3" ON "search_queries" ("entityType") `);
        await queryRunner.query(`CREATE INDEX "IDX_fef615b323b0de16326ebd789c" ON "search_queries" ("createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_af789227fb45bf66b736e95a36" ON "search_queries" ("query", "createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_3ebc25effc523113fd0260d933" ON "search_queries" ("userId", "createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_b798bc66c4a8689f3825f164ee" ON "search_index" ("entityType") `);
        await queryRunner.query(`CREATE INDEX "IDX_353930235fd57fa789a933db44" ON "search_index" ("entityId") `);
        await queryRunner.query(`CREATE INDEX "IDX_dcaeef49db37e1c9db0ecaabee" ON "search_index" ("caseId") `);
        await queryRunner.query(`CREATE INDEX "IDX_8eedef1e9c2a3984fcbe7368c0" ON "search_index" ("clientId") `);
        await queryRunner.query(`CREATE INDEX "IDX_ee41534c8d439dea10b0cd231a" ON "search_index" ("indexedAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_b24cb26246719e9b960d4891cf" ON "search_index" ("entityType", "entityId") `);
        await queryRunner.query(`CREATE INDEX "IDX_fe9ed28bbf6f9a4d9446b23bd1" ON "processing_jobs" ("documentId") `);
        await queryRunner.query(`CREATE INDEX "IDX_367cb8bd6be38fe7385546179d" ON "ocr_jobs" ("documentId") `);
        await queryRunner.query(`CREATE INDEX "IDX_bfa78932093a76feff867894e6" ON "ocr_jobs" ("status", "createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_67fd9e46e08027a36a37855515" ON "ocr_jobs" ("documentId", "status") `);
        await queryRunner.query(`CREATE INDEX "IDX_980b6f340d4be3e88f74d57dbc" ON "performance_metrics" ("metricName", "timestamp") `);
        await queryRunner.query(`CREATE INDEX "IDX_a8ad3918eec4a4438c641dd1f2" ON "login_attempts" ("ipAddress") `);
        await queryRunner.query(`CREATE INDEX "IDX_a879139d6eb2ebfadb95faa346" ON "login_attempts" ("createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_c18a6a575dd94177e5d40cee71" ON "login_attempts" ("ipAddress", "createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_46dd77d64eb0ed0d65383ac4ed" ON "login_attempts" ("email", "createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_610102b60fea1455310ccd299d" ON "refresh_tokens" ("userId") `);
        await queryRunner.query(`CREATE INDEX "IDX_56b91d98f71e3d1b649ed6e9f3" ON "refresh_tokens" ("expiresAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_ec511b89bba27b211e32a2a12f" ON "refresh_tokens" ("userId", "expiresAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_a338dd76d0b65c9301050bbf8d" ON "dashboard_snapshots" ("userId") `);
        await queryRunner.query(`CREATE INDEX "IDX_e13529fa417141c4c2f907d755" ON "dashboard_snapshots" ("snapshotDate") `);
        await queryRunner.query(`CREATE INDEX "IDX_bf58b9f0391eed63b60b31955f" ON "dashboard_snapshots" ("snapshotType", "createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_1792cb0782582db1c956e214dd" ON "dashboard_snapshots" ("userId", "createdAt") `);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD CONSTRAINT "FK_3a7d9cd0d420e11136a50e25f93" FOREIGN KEY ("caseId") REFERENCES "cases"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "trial_events" ADD CONSTRAINT "FK_bc7d5ddd431b24e6c54a539dee7" FOREIGN KEY ("caseId") REFERENCES "cases"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD CONSTRAINT "FK_0cf85f4d0030faff30be5cdd734" FOREIGN KEY ("employeeId") REFERENCES "employees"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD CONSTRAINT "FK_ef81e383db5f4c787e11a0060e6" FOREIGN KEY ("pipelineId") REFERENCES "etl_pipelines"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP CONSTRAINT "FK_ef81e383db5f4c787e11a0060e6"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP CONSTRAINT "FK_0cf85f4d0030faff30be5cdd734"`);
        await queryRunner.query(`ALTER TABLE "trial_events" DROP CONSTRAINT "FK_bc7d5ddd431b24e6c54a539dee7"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP CONSTRAINT "FK_3a7d9cd0d420e11136a50e25f93"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_1792cb0782582db1c956e214dd"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_bf58b9f0391eed63b60b31955f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_e13529fa417141c4c2f907d755"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_a338dd76d0b65c9301050bbf8d"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_ec511b89bba27b211e32a2a12f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_56b91d98f71e3d1b649ed6e9f3"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_610102b60fea1455310ccd299d"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_46dd77d64eb0ed0d65383ac4ed"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_c18a6a575dd94177e5d40cee71"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_a879139d6eb2ebfadb95faa346"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_a8ad3918eec4a4438c641dd1f2"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_980b6f340d4be3e88f74d57dbc"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_67fd9e46e08027a36a37855515"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_bfa78932093a76feff867894e6"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_367cb8bd6be38fe7385546179d"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_fe9ed28bbf6f9a4d9446b23bd1"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_b24cb26246719e9b960d4891cf"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_ee41534c8d439dea10b0cd231a"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_8eedef1e9c2a3984fcbe7368c0"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_dcaeef49db37e1c9db0ecaabee"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_353930235fd57fa789a933db44"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_b798bc66c4a8689f3825f164ee"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_3ebc25effc523113fd0260d933"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_af789227fb45bf66b736e95a36"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_fef615b323b0de16326ebd789c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_6817a99cdd00e627ca9c6071b3"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_87fd3a154a6ba00be114c89fe3"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ALTER COLUMN "pipelineId" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD CONSTRAINT "FK_ef81e383db5f4c787e11a0060e6" FOREIGN KEY ("pipelineId") REFERENCES "etl_pipelines"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ALTER COLUMN "employeeId" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD CONSTRAINT "FK_0cf85f4d0030faff30be5cdd734" FOREIGN KEY ("employeeId") REFERENCES "employees"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "trial_events" ALTER COLUMN "caseId" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "trial_events" ADD CONSTRAINT "FK_bc7d5ddd431b24e6c54a539dee7" FOREIGN KEY ("caseId") REFERENCES "cases"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ALTER COLUMN "caseId" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD CONSTRAINT "FK_3a7d9cd0d420e11136a50e25f93" FOREIGN KEY ("caseId") REFERENCES "cases"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "responsibleAttorney"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "signedBy"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "signedDate"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "documentUrl"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "specialProvisions"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "scopeOfWork"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "discountPercentage"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "latePaymentRate"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "billingFrequency"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "paymentTermsDays"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "expenseCap"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "expenseMarkup"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "expensesBillable"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "overageRate"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "includedHours"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "monthlyFee"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "retainerReplenishment"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "retainerRefundable"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "retainerAmount"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "minimumRecovery"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "contingencyPercentage"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "paymentSchedule"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "fixedFeeAmount"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "rateTableId"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "standardRate"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "terminationDate"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "effectiveDate"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "agreementType"`);
        await queryRunner.query(`DROP TYPE "public"."fee_agreements_agreementtype_enum"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "matterDescription"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "clientName"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP CONSTRAINT "UQ_c910b37a8a268c08af31c6e4f4a"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" DROP COLUMN "agreementNumber"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "taskCode"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "phaseCode"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "ledesCode"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "userName"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "expenseId"`);
        await queryRunner.query(`ALTER TABLE "invoice_items" DROP COLUMN "timeEntryId"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "updatedBy"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "createdBy"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "assignedAttorney"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "disputeReason"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "actualCost"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "estimatedCost"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "reportPath"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "reportReceivedDate"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "isReportReceived"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "requestingParty"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "durationMinutes"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "completedDate"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "scheduledDate"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "requestDate"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "examinerSpecialty"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "examinerOrganization"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "examinationTitle"`);
        await queryRunner.query(`ALTER TABLE "examinations" DROP COLUMN "caseId"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "updatedBy"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "createdBy"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "assignedTo"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "productionCost"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "trackingNumber"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "deliveryMethod"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "productionNotes"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "searchCriteria"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "includeRedactions"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "includePrivilegeLog"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "outputPath"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "totalSize"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "totalPages"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "totalDocuments"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "batesEnd"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "batesStart"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "batesPrefix"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "productionDate"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "dueDate"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "requestDate"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "recipientParty"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "productionNumber"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "productionName"`);
        await queryRunner.query(`ALTER TABLE "productions" DROP COLUMN "caseId"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "performance"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "status"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "config"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" DROP COLUMN "entityId"`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" DROP COLUMN "entityType"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "lastUsed"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "usageCount"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "active"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "configuration"`);
        await queryRunner.query(`ALTER TABLE "ai_models" DROP COLUMN "provider"`);
        await queryRunner.query(`ALTER TABLE "ai_operations" DROP COLUMN "completedAt"`);
        await queryRunner.query(`ALTER TABLE "ai_operations" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "ai_operations" DROP COLUMN "processingTime"`);
        await queryRunner.query(`ALTER TABLE "ai_operations" DROP COLUMN "operationType"`);
        await queryRunner.query(`DROP TYPE "public"."ai_operations_operationtype_enum"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "entityId"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "entityType"`);
        await queryRunner.query(`ALTER TABLE "analytics_events" DROP COLUMN "eventType"`);
        await queryRunner.query(`ALTER TABLE "dashboards" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "dashboards" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "dashboards" DROP COLUMN "isPublic"`);
        await queryRunner.query(`ALTER TABLE "dashboards" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" DROP COLUMN "snapshotDate"`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" DROP COLUMN "snapshotType"`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "isActive"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "requestCount"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "lastUsedAt"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "rateLimit"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "expiresAt"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "keyHash"`);
        await queryRunner.query(`ALTER TABLE "api_keys" DROP COLUMN "keyPrefix"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "ipAddress"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "userAgent"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "expiresAt"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "login_attempts" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "login_attempts" DROP COLUMN "userAgent"`);
        await queryRunner.query(`ALTER TABLE "login_attempts" DROP COLUMN "failureReason"`);
        await queryRunner.query(`ALTER TABLE "login_attempts" DROP COLUMN "ipAddress"`);
        await queryRunner.query(`ALTER TABLE "schema_backups" DROP COLUMN "expiresAt"`);
        await queryRunner.query(`ALTER TABLE "schema_backups" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "schema_backups" DROP COLUMN "createdBy"`);
        await queryRunner.query(`ALTER TABLE "schema_backups" DROP COLUMN "includesData"`);
        await queryRunner.query(`ALTER TABLE "schema_backups" DROP COLUMN "sizeBytes"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "nextRun"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "lastRun"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "retentionDays"`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" DROP COLUMN "cronExpression"`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" DROP COLUMN "expiresAt"`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" DROP COLUMN "createdBy"`);
        await queryRunner.query(`ALTER TABLE "communications" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "communications" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "communications" DROP COLUMN "sentAt"`);
        await queryRunner.query(`ALTER TABLE "communications" DROP COLUMN "caseId"`);
        await queryRunner.query(`ALTER TABLE "templates" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "templates" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "templates" DROP COLUMN "isActive"`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" DROP COLUMN "checkedAt"`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" DROP COLUMN "ruleId"`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" DROP COLUMN "caseId"`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" DROP COLUMN "isActive"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "completedAt"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "startedAt"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "durationMs"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "recordsFailed"`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" DROP COLUMN "recordsProcessed"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "denialReason"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "approvedAt"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "approvedBy"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "endDate"`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" DROP COLUMN "startDate"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "targetBillableHours"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "billingRate"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "hireDate"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "lastName"`);
        await queryRunner.query(`ALTER TABLE "employees" DROP COLUMN "firstName"`);
        await queryRunner.query(`ALTER TABLE "integrations" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "integrations" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "integrations" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "integrations" DROP COLUMN "lastSyncedAt"`);
        await queryRunner.query(`ALTER TABLE "integrations" DROP COLUMN "syncEnabled"`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" DROP COLUMN "viewCount"`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" DROP COLUMN "authorId"`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" DROP COLUMN "acknowledgedBy"`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" DROP COLUMN "acknowledgedAt"`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "performance_metrics" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "performance_metrics" DROP COLUMN "metricName"`);
        await queryRunner.query(`ALTER TABLE "system_alerts" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "system_alerts" DROP COLUMN "resolvedAt"`);
        await queryRunner.query(`ALTER TABLE "system_alerts" DROP COLUMN "acknowledgedAt"`);
        await queryRunner.query(`ALTER TABLE "system_alerts" DROP COLUMN "acknowledgedBy"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "completedAt"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "startedAt"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "errorMessage"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "processedPages"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "pageCount"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "extractedText"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "filePath"`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" DROP COLUMN "documentId"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "updatedBy"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "createdBy"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "usageCount"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "isActive"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "jurisdictionId"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "formattingRules"`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" DROP COLUMN "defaultSections"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "createdBy"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "processingTime"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "completedAt"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "startedAt"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" DROP COLUMN "documentId"`);
        await queryRunner.query(`ALTER TABLE "query_history" DROP COLUMN "executedAt"`);
        await queryRunner.query(`ALTER TABLE "query_history" DROP COLUMN "rowsAffected"`);
        await queryRunner.query(`ALTER TABLE "query_history" DROP COLUMN "executionTimeMs"`);
        await queryRunner.query(`ALTER TABLE "query_history" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "saved_queries" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "saved_queries" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "saved_queries" DROP COLUMN "isShared"`);
        await queryRunner.query(`ALTER TABLE "saved_queries" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "report_templates" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "report_templates" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "report_templates" DROP COLUMN "isActive"`);
        await queryRunner.query(`ALTER TABLE "report_templates" DROP COLUMN "createdBy"`);
        await queryRunner.query(`ALTER TABLE "reports" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "reports" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "reports" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "reports" DROP COLUMN "filePath"`);
        await queryRunner.query(`ALTER TABLE "reports" DROP COLUMN "templateId"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "identifiedBy"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "riskScore"`);
        await queryRunner.query(`ALTER TABLE "risks" DROP COLUMN "mitigationStrategy"`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" DROP COLUMN "appliedBy"`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" DROP COLUMN "appliedAt"`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" DROP COLUMN "createdBy"`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" DROP COLUMN "sizeBytes"`);
        await queryRunner.query(`ALTER TABLE "search_index" DROP COLUMN "indexedAt"`);
        await queryRunner.query(`ALTER TABLE "search_index" DROP COLUMN "clientId"`);
        await queryRunner.query(`ALTER TABLE "search_index" DROP COLUMN "entityId"`);
        await queryRunner.query(`ALTER TABLE "search_index" DROP COLUMN "entityType"`);
        await queryRunner.query(`ALTER TABLE "search_queries" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "search_queries" DROP COLUMN "responseTimeMs"`);
        await queryRunner.query(`ALTER TABLE "search_queries" DROP COLUMN "resultsCount"`);
        await queryRunner.query(`ALTER TABLE "search_queries" DROP COLUMN "entityType"`);
        await queryRunner.query(`ALTER TABLE "search_queries" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "syncedAt"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "retryCount"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "entityId"`);
        await queryRunner.query(`ALTER TABLE "sync_queue" DROP COLUMN "entityType"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "resolvedAt"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "resolvedBy"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "conflictType"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "remoteVersion"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "localVersion"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "entityId"`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" DROP COLUMN "entityType"`);
        await queryRunner.query(`ALTER TABLE "trial_events" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "trial_events" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "conductedBy"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "scheduledDate"`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" DROP COLUMN "witnessName"`);
        await queryRunner.query(`ALTER TABLE "data_versions" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "data_versions" DROP COLUMN "createdBy"`);
        await queryRunner.query(`ALTER TABLE "data_versions" DROP COLUMN "commitMessage"`);
        await queryRunner.query(`ALTER TABLE "data_versions" DROP COLUMN "entityId"`);
        await queryRunner.query(`ALTER TABLE "data_versions" DROP COLUMN "entityType"`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "rate_table_id" uuid`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "document_url" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "monthly_fee" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "billing_frequency" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "scope_of_work" text`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "deleted_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "retainer_refundable" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "contingency_percentage" numeric(5,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "expenses_billable" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "payment_terms_days" integer NOT NULL DEFAULT '30'`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "effective_date" date NOT NULL`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "included_hours" integer`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "retainer_replenishment" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "termination_date" date`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "overage_rate" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "retainer_amount" numeric(10,2)`);
        await queryRunner.query(`CREATE TYPE "public"."fee_agreements_agreement_type_enum" AS ENUM('Hourly', 'Fixed Fee', 'Contingency', 'Hybrid', 'Retainer', 'Subscription')`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "agreement_type" "public"."fee_agreements_agreement_type_enum" NOT NULL`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "agreement_number" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD CONSTRAINT "UQ_ef46494612220cb0b607d1e8ba6" UNIQUE ("agreement_number")`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "expense_cap" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "standard_rate" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "client_name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "minimum_recovery" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "late_payment_rate" numeric(5,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "payment_schedule" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "discount_percentage" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "fixed_fee_amount" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "special_provisions" text`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "responsible_attorney" uuid`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "matter_description" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "signed_by" uuid`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "expense_markup" numeric(5,2)`);
        await queryRunner.query(`ALTER TABLE "fee_agreements" ADD "signed_date" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "task_code" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "phase_code" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "time_entry_id" uuid`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "user_id" uuid`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "user_name" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "ledes_code" character varying(20)`);
        await queryRunner.query(`ALTER TABLE "invoice_items" ADD "expense_id" uuid`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "estimated_cost" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "is_report_received" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "duration_minutes" integer`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "actual_cost" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "requesting_party" character varying(200)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "assigned_attorney" uuid`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "case_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "updated_by" uuid`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "examination_title" character varying(300) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "report_received_date" date`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "request_date" date`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "completed_date" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "dispute_reason" text`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "examiner_organization" character varying(300)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "scheduled_date" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "deleted_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "examiner_specialty" character varying(200)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "report_path" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "examinations" ADD "created_by" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "include_privilege_log" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "production_notes" text`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "include_redactions" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "bates_start" bigint`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "production_date" date`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "delivery_method" character varying(300)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "production_name" character varying(300) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "deleted_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "search_criteria" jsonb`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "created_by" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "total_documents" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "production_cost" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "output_path" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "tracking_number" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "total_size" bigint`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "due_date" date`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "production_number" character varying(100)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "case_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "assigned_to" uuid`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "recipient_party" character varying(200)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "request_date" date`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "bates_end" bigint`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "bates_prefix" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "total_pages" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "productions" ADD "updated_by" uuid`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "configuration" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "provider" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" ADD "entity_type" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "vector_embeddings" ADD "entity_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "usage_count" bigint NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "performance" jsonb`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "last_used" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "description" text`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "config" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ai_models" ADD "status" character varying(20) NOT NULL DEFAULT 'active'`);
        await queryRunner.query(`CREATE TYPE "public"."ai_operations_operation_type_enum" AS ENUM('summarization', 'classification', 'extraction', 'prediction', 'generation')`);
        await queryRunner.query(`ALTER TABLE "ai_operations" ADD "operation_type" "public"."ai_operations_operation_type_enum" NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ai_operations" ADD "completed_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ai_operations" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ai_operations" ADD "processing_time" integer`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "event_type" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "user_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "entity_type" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "analytics_events" ADD "entity_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "dashboards" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "dashboards" ADD "user_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "dashboards" ADD "is_public" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "dashboards" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" ADD "snapshot_type" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" ADD "user_id" uuid`);
        await queryRunner.query(`ALTER TABLE "dashboard_snapshots" ADD "snapshot_date" date NOT NULL`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "key_hash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "user_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "key_prefix" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "expires_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "rate_limit" integer NOT NULL DEFAULT '1000'`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "request_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "api_keys" ADD "last_used_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "user_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "ip_address" character varying(45)`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "expires_at" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "user_agent" character varying(100)`);
        await queryRunner.query(`ALTER TABLE "login_attempts" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "login_attempts" ADD "user_agent" character varying(100)`);
        await queryRunner.query(`ALTER TABLE "login_attempts" ADD "failure_reason" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "login_attempts" ADD "ip_address" character varying(45) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "schema_backups" ADD "expires_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "schema_backups" ADD "created_by" character varying`);
        await queryRunner.query(`ALTER TABLE "schema_backups" ADD "includes_data" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "schema_backups" ADD "size_bytes" bigint NOT NULL`);
        await queryRunner.query(`ALTER TABLE "schema_backups" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "cron_expression" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "last_run" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "retention_days" integer NOT NULL DEFAULT '7'`);
        await queryRunner.query(`ALTER TABLE "backup_schedules" ADD "next_run" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" ADD "created_by" character varying`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" ADD "expires_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "backup_snapshots" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "communications" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "communications" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "communications" ADD "case_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "communications" ADD "sent_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "templates" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "templates" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "templates" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" ADD "case_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" ADD "rule_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "compliance_checks" ADD "checked_at" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "compliance_rules" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "completed_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "started_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "records_processed" integer`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "pipeline_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "duration_ms" integer`);
        await queryRunner.query(`ALTER TABLE "etl_jobs" ADD "records_failed" integer`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "approved_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "start_date" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "employee_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "approved_by" character varying`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "denial_reason" text`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "end_date" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "time_off_requests" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "last_name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "hire_date" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "first_name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "billing_rate" numeric(10,2)`);
        await queryRunner.query(`ALTER TABLE "employees" ADD "target_billable_hours" integer`);
        await queryRunner.query(`ALTER TABLE "integrations" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "integrations" ADD "last_synced_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "integrations" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "integrations" ADD "sync_enabled" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "integrations" ADD "user_id" character varying`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" ADD "author_id" character varying`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" ADD "view_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "knowledge_articles" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" ADD "acknowledged_by" character varying`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" ADD "acknowledged_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "monitoring_alerts" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "performance_metrics" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "performance_metrics" ADD "metric_name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "system_alerts" ADD "acknowledged_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "system_alerts" ADD "acknowledged_by" character varying`);
        await queryRunner.query(`ALTER TABLE "system_alerts" ADD "resolved_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "system_alerts" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "file_path" character varying(500) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "completed_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "extracted_text" text`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "document_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "processed_pages" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "started_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "page_count" integer`);
        await queryRunner.query(`ALTER TABLE "ocr_jobs" ADD "error_message" text`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "updated_by" character varying`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "usage_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "default_sections" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "created_by" character varying`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "formatting_rules" jsonb`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "pleading_templates" ADD "jurisdiction_id" character varying`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "started_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "created_by" uuid`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "processing_time" integer`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "completed_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "document_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "processing_jobs" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "query_history" ADD "execution_time_ms" integer`);
        await queryRunner.query(`ALTER TABLE "query_history" ADD "user_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "query_history" ADD "executed_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "query_history" ADD "rows_affected" integer`);
        await queryRunner.query(`ALTER TABLE "saved_queries" ADD "user_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "saved_queries" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "saved_queries" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "saved_queries" ADD "is_shared" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "report_templates" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "report_templates" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "report_templates" ADD "created_by" character varying`);
        await queryRunner.query(`ALTER TABLE "report_templates" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "reports" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reports" ADD "file_path" character varying`);
        await queryRunner.query(`ALTER TABLE "reports" ADD "user_id" character varying`);
        await queryRunner.query(`ALTER TABLE "reports" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reports" ADD "template_id" character varying`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "mitigation_strategy" text`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "case_id" character varying`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "identified_by" character varying`);
        await queryRunner.query(`ALTER TABLE "risks" ADD "risk_score" numeric(3,1)`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" ADD "applied_by" character varying`);
        await queryRunner.query(`ALTER TABLE "schema_migrations" ADD "applied_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" ADD "created_by" character varying`);
        await queryRunner.query(`ALTER TABLE "schema_snapshots" ADD "size_bytes" bigint NOT NULL`);
        await queryRunner.query(`ALTER TABLE "search_index" ADD "case_id" uuid`);
        await queryRunner.query(`ALTER TABLE "search_index" ADD "client_id" uuid`);
        await queryRunner.query(`ALTER TABLE "search_index" ADD "indexed_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "search_index" ADD "entity_type" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "search_index" ADD "entity_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "search_queries" ADD "results_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "search_queries" ADD "entity_type" character varying(50)`);
        await queryRunner.query(`ALTER TABLE "search_queries" ADD "user_id" uuid`);
        await queryRunner.query(`ALTER TABLE "search_queries" ADD "response_time_ms" integer`);
        await queryRunner.query(`ALTER TABLE "search_queries" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "entity_type" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "user_id" character varying`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "retry_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "entity_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_queue" ADD "synced_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "local_version" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "entity_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "resolved_by" character varying`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "conflict_type" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "resolved_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "remote_version" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sync_conflicts" ADD "entity_type" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "trial_events" ADD "case_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "trial_events" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "trial_events" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "case_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "witness_name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "scheduled_date" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "witness_prep_sessions" ADD "conducted_by" character varying`);
        await queryRunner.query(`ALTER TABLE "data_versions" ADD "entity_type" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "data_versions" ADD "created_by" character varying`);
        await queryRunner.query(`ALTER TABLE "data_versions" ADD "commit_message" text`);
        await queryRunner.query(`ALTER TABLE "data_versions" ADD "entity_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "data_versions" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "trust_accounts" RENAME COLUMN "deletedAt" TO "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "monitoring_metrics" RENAME COLUMN "recordedAt" TO "recorded_at"`);
        await queryRunner.query(`CREATE INDEX "IDX_8d5281f4d4aab078772132e7ee" ON "dashboard_snapshots" ("created_at", "user_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_5dca229ddbb793b3446fc75771" ON "dashboard_snapshots" ("created_at", "snapshot_type") `);
        await queryRunner.query(`CREATE INDEX "IDX_dcc7661a87eec741c8c5a68724" ON "dashboard_snapshots" ("snapshot_date") `);
        await queryRunner.query(`CREATE INDEX "IDX_42e7d7566e6aed123e97851444" ON "dashboard_snapshots" ("user_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_19847b88d090c565c216842ac0" ON "refresh_tokens" ("expires_at", "user_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_ba3bd69c8ad1e799c0256e9e50" ON "refresh_tokens" ("expires_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_3ddc983c5f7bcf132fd8732c3f" ON "refresh_tokens" ("user_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_626c200d81876571d9f4894963" ON "login_attempts" ("created_at", "email") `);
        await queryRunner.query(`CREATE INDEX "IDX_c31c455f4a8c274dbd46a498b4" ON "login_attempts" ("created_at", "ip_address") `);
        await queryRunner.query(`CREATE INDEX "IDX_fb1343b1ae1968a348d1ebea73" ON "login_attempts" ("created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_8708cd4de43f55001fc1734ca0" ON "login_attempts" ("ip_address") `);
        await queryRunner.query(`CREATE INDEX "IDX_5666769bf32c56b8bd0cf71658" ON "performance_metrics" ("metric_name", "timestamp") `);
        await queryRunner.query(`CREATE INDEX "IDX_99dbaf1969c181030db8817d68" ON "ocr_jobs" ("document_id", "status") `);
        await queryRunner.query(`CREATE INDEX "IDX_d49d96d97527513d451f8b866c" ON "ocr_jobs" ("created_at", "status") `);
        await queryRunner.query(`CREATE INDEX "IDX_3983a5b63b73ffa78f41131eb5" ON "ocr_jobs" ("document_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_8bc40b749f035a74bde1b7409a" ON "processing_jobs" ("document_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_6afd517ccbf611a8194629bfc6" ON "search_index" ("indexed_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_6ede069fea928df922a8b7371c" ON "search_index" ("client_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_d55026287f00cca3b633a1127a" ON "search_index" ("case_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_2a79b155e14a264153b91264e6" ON "search_index" ("entity_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_cacf54450cd9d98eac14aeb3c7" ON "search_index" ("entity_type") `);
        await queryRunner.query(`CREATE INDEX "IDX_c8e2e03f6ca601b6e2c70e5caa" ON "search_index" ("entity_id", "entity_type") `);
        await queryRunner.query(`CREATE INDEX "IDX_2365eb2f0072d4954571249bc0" ON "search_queries" ("created_at", "user_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_a05abf52c264c8a6ecc208f8b9" ON "search_queries" ("created_at", "query") `);
        await queryRunner.query(`CREATE INDEX "IDX_4981129d48833f45cc3e70f06b" ON "search_queries" ("created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_7d77de01724832564f1ede6b32" ON "search_queries" ("entity_type") `);
        await queryRunner.query(`CREATE INDEX "IDX_65121ce59bf1c4494a6dba198f" ON "search_queries" ("user_id") `);
    }

}
