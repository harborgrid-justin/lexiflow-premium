import{l as u,j as e}from"./vendor-core-V-oW58GW.js";import{T as j,a as v,b as t,c as C,d as g,e as a}from"./Table-C_bcd1kC.js";import{B as y}from"./Badge-bF-hTHJZ.js";import{B as T}from"./Button-CDQlLg6j.js";import{A as b}from"./AdaptiveLoader-D5wOoiN1.js";import{C as R}from"./ConfirmDialog--jvbqDAw.js";import{u as A}from"./useModalState-Cst_3NmK.js";import{u as B,c as o}from"./useQueryHooks-Oyt-TMLP.js";import{u as N}from"./ThemeContext-OPG61qw5.js";import{D as m}from"./dataService-BWLMkXM4.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./Modal-Rns91qFF.js";import"./SyncContext-B5_p5hCg.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const K=({onSelectCase:n})=>{const{theme:r}=N(),i=A(),[c,d]=u.useState(null),{data:l=[],isLoading:h}=B(["cases","archived"],()=>m.cases.getArchived()),x=Array.isArray(l)?l:[],p=async s=>{d(s),i.open()},f=async()=>{if(c){const s=await m.cases.getById(c);s&&n&&n(s),d(null)}};return h?e.jsx(b,{contentType:"table",itemCount:8,shimmer:!0}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:o("p-4 rounded text-center text-sm border",r.surface.highlight,r.text.secondary,r.border.default),children:"Showing cases closed in the last 12 months. Older cases are in Cold Storage."}),e.jsxs(j,{responsive:"card",children:[e.jsxs(v,{children:[e.jsx(t,{children:"Closed Date"}),e.jsx(t,{children:"Matter"}),e.jsx(t,{children:"Client"}),e.jsx(t,{children:"Outcome"}),e.jsx(t,{className:"text-right",children:"Action"})]}),e.jsx(C,{children:x.map(s=>e.jsxs(g,{children:[e.jsx(a,{className:o("font-mono text-xs",r.text.secondary),children:s.date}),e.jsx(a,{className:o("font-medium",r.text.primary),children:s.title}),e.jsx(a,{children:s.client}),e.jsx(a,{children:e.jsx(y,{variant:"success",children:s.outcome})}),e.jsx(a,{className:"text-right",children:e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>p(s.id),children:"Retrieve"})})]},s.id))})]}),e.jsx(R,{isOpen:i.isOpen,onClose:i.close,onConfirm:f,title:"Retrieve Case",message:"Retrieve case from Cold Storage? This may incur a fee.",confirmText:"Retrieve",variant:"warning"})]})};export{K as CaseListArchived};
