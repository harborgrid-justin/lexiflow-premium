import{r as u,j as e,aG as x,a_ as h,p,ab as f}from"./vendor-core-V-oW58GW.js";import{B as g}from"./Button-CDQlLg6j.js";import{u as j,c as a}from"./useQueryHooks-Oyt-TMLP.js";import{u as b}from"./ThemeContext-OPG61qw5.js";import{D as i}from"./dataService-BWLMkXM4.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const E=()=>{const{theme:t}=b(),[r,c]=u.useState(""),{data:n=[],isLoading:o}=j(["conflicts","recent"],async()=>(await i.compliance.getConflicts()).sort((m,d)=>new Date(d.date).getTime()-new Date(m.date).getTime()).slice(0,5)),l=async()=>{r&&await i.compliance.runConflictCheck(r)};return e.jsxs("div",{className:"max-w-2xl mx-auto mt-8 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:a("p-4 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",t.surface.highlight),children:e.jsx(x,{className:a("h-10 w-10",t.text.tertiary)})}),e.jsx("h3",{className:a("text-xl font-bold",t.text.primary),children:"Global Conflict Search"}),e.jsx("p",{className:t.text.secondary,children:"Search across all matters, parties, and intakes."})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(h,{className:a("absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 group-focus-within:text-blue-500",t.text.tertiary)}),e.jsx("input",{className:a("w-full pl-12 pr-28 py-4 rounded-full border shadow-sm outline-none focus:ring-2 focus:ring-blue-500 text-lg transition-all",t.surface.default,t.border.default,t.text.primary),placeholder:"Enter name or entity...",value:r,onChange:s=>c(s.target.value),onKeyDown:s=>s.key==="Enter"&&l()}),e.jsx(g,{variant:"primary",className:"absolute right-2 top-2 bottom-2 px-6 rounded-full font-medium transition-colors",onClick:l,children:"Search"})]}),e.jsxs("div",{className:a("p-4 rounded-lg border",t.status.warning.bg,t.status.warning.border),children:[e.jsxs("h4",{className:a("font-bold text-sm mb-2 flex items-center",t.status.warning.text),children:[e.jsx(p,{className:"h-4 w-4 mr-2"})," Recent Potential Hits"]}),o?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx(f,{className:"animate-spin h-5 w-5 text-amber-600"})}):e.jsxs("ul",{className:a("list-none text-sm space-y-2",t.status.warning.text),children:[n.length===0&&e.jsx("li",{className:"italic opacity-70",children:"No recent conflicts found."}),n.map(s=>e.jsxs("li",{className:"flex items-center justify-between group cursor-pointer hover:underline",children:[e.jsxs("span",{children:[e.jsx("strong",{children:s.entityName})," matched in ",s.foundIn[0]||"Database"]}),e.jsx("span",{className:a("text-xs border px-1 rounded",s.status==="Flagged"?"border-red-200 bg-red-100":"border-amber-200"),children:s.status})]},s.id))]})]})]})};export{E as CaseListConflicts};
