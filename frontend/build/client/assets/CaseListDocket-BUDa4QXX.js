import{r as I,j as e,aI as g,by as L,al as C,aa as N,a2 as T,T as E}from"./vendor-core-V-oW58GW.js";import{B as f}from"./Button-CDQlLg6j.js";import{B as M}from"./Badge-bF-hTHJZ.js";import{V as B}from"./VirtualList-r2WXvtCD.js";import{L as H}from"./useSessionStorage-D_292xEY.js";import{u as z}from"./ThemeContext-OPG61qw5.js";import{u as p,c as r}from"./useQueryHooks-Oyt-TMLP.js";import{D as y}from"./dataService-BWLMkXM4.js";import{q as v}from"./queryKeys-BBVgMz36.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const W=({onSelectCase:u})=>{const{theme:t}=z(),{data:o=[],isLoading:w}=p(v.docket.all(),async()=>await y.docket.getAll()),{data:l=[],isLoading:k}=p(v.motions.all(),async()=>await y.motions.getAll()),{data:c=[],isLoading:b}=p(v.cases.all(),async()=>await y.cases.getAll()),d=w||k||b,j=I.useMemo(()=>{if(d)return[];const a=Array.isArray(l)?l:[],n=Array.isArray(c)?c:[],m=Array.isArray(o)?o:[],x=[];return m.forEach(s=>{const i=n.find(h=>h.id===s.caseId);x.push({id:`d-${s.id}`,date:s.date||s.dateFiled||s.entryDate,time:s.time||"N/A",matter:i?.title||s.caseId,caseId:s.caseId,event:s.description||s.entry||"Docket Entry",type:s.entryType||"Entry",location:s.location||"N/A",priority:s.priority||"Medium"})}),a.forEach(s=>{if(s.hearingDate){const i=n.find(h=>h.id===s.caseId);x.push({id:`h-${s.id}`,date:s.hearingDate,time:s.hearingTime||"09:00 AM",matter:i?.title||s.caseId,caseId:s.caseId,event:`Hearing: ${s.title}`,type:"Hearing",location:i?.court||"TBD",priority:"High"})}}),x.sort((s,i)=>new Date(s.date).getTime()-new Date(i.date).getTime())},[d,l,c,o]),D=a=>{if(u&&c){const n=c.find(m=>m.id===a);n&&u(n)}},A=a=>e.jsxs("div",{className:r("flex items-center border-b h-[64px] px-6 transition-colors group",t.border.default,`hover:${t.surface.highlight}`),children:[e.jsx("div",{className:r("w-1/4 font-bold whitespace-nowrap",t.text.primary),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{className:r("h-4 w-4 mr-2",t.text.tertiary)}),a.date]})}),e.jsx("div",{className:r("w-1/4 font-mono text-xs",t.text.secondary),children:a.time}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("div",{className:r("font-medium truncate",t.text.primary),children:a.matter}),e.jsxs("button",{onClick:()=>D(a.caseId),className:r("text-xs font-mono flex items-center hover:underline",t.primary.text),children:[a.caseId," ",e.jsx(T,{className:"h-2 w-2 ml-1"})]})]}),e.jsx("div",{className:"w-1/2",children:e.jsxs("div",{className:r("flex items-center",t.text.primary),children:[a.priority==="Critical"&&e.jsx(E,{className:"h-4 w-4 text-red-500 mr-2"}),a.event]})}),e.jsx("div",{className:r("w-1/4 text-xs",t.text.secondary),children:a.location}),e.jsx("div",{className:"w-1/4",children:e.jsx(M,{variant:a.type==="Hearing"?"error":a.type==="Deadline"?"warning":"info",children:a.type})})]},a.id);return e.jsxs("div",{className:r("rounded-lg border overflow-hidden shadow-sm animate-fade-in flex flex-col h-full",t.surface.default,t.border.default),children:[e.jsxs("div",{className:r("p-4 border-b flex justify-between items-center",t.surface.highlight,t.border.default),children:[e.jsxs("div",{children:[e.jsx("h3",{className:r("font-bold",t.text.primary),children:"Master Docket"}),e.jsxs("p",{className:r("text-xs flex items-center mt-1",t.text.secondary),children:[e.jsx(g,{className:"h-3 w-3 mr-1"})," Synced with Court ECF & Internal Calendars"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{variant:"secondary",size:"sm",icon:L,children:"Link Docket"}),e.jsx(f,{variant:"secondary",size:"sm",icon:g,children:"Force Sync"}),e.jsx(f,{variant:"primary",size:"sm",icon:C,children:"Add Entry"})]})]}),d?e.jsx(H,{}):e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsxs("div",{className:r("flex items-center px-6 py-3 border-b font-bold text-xs uppercase tracking-wider shrink-0",t.surface.highlight,t.border.default,t.text.secondary),children:[e.jsx("div",{className:"w-1/4",children:"Date"}),e.jsx("div",{className:"w-1/4",children:"Time"}),e.jsx("div",{className:"w-1/2",children:"Matter / Docket"}),e.jsx("div",{className:"w-1/2",children:"Event"}),e.jsx("div",{className:"w-1/4",children:"Location"}),e.jsx("div",{className:"w-1/4",children:"Type"})]}),e.jsx("div",{className:"flex-1 relative",children:j.length===0?e.jsx("div",{className:r("flex items-center justify-center h-full",t.text.tertiary),children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"h-16 w-16 mx-auto mb-4 opacity-20"}),e.jsx("p",{className:"text-sm",children:"No upcoming docket events."}),e.jsx("p",{className:"text-xs mt-2 opacity-60",children:"Add entries or link a docket to get started."})]})}):e.jsx(B,{items:j,height:"100%",itemHeight:64,renderItem:A,emptyMessage:"No upcoming docket events."})})]})]})};export{W as CaseListDocket};
