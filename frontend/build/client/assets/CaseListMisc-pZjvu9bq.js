import{r as p,j as e,ac as j,ak as o,bY as y,k as S,ae as T,bn as B}from"./vendor-core-V-oW58GW.js";import{u as M}from"./ThemeContext-OPG61qw5.js";import{u as D}from"./useNotify-Bhb3OIEg.js";import{u as b,d as C,c as r}from"./useQueryHooks-BdeOvP9e.js";import{B as c}from"./Button-PaGqeZoR.js";import{C as d}from"./Card-D56KNEnI.js";import{T as F}from"./Tabs-BTz8yyZK.js";import{M as f}from"./MetricCard-CDV5joW_.js";import{D as m}from"./dataService-75QCl8KS.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./SyncContext-DYD5yPAv.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const V=()=>{const{theme:a}=M(),t=D(),[l,N]=p.useState("archive"),[n,g]=p.useState([]),{data:u=[]}=b(["cases","active"],async()=>(await m.cases.getAll()).filter(i=>i.status!=="Closed"&&i.status!=="Archived")),{data:h=[]}=b(["cases","archived"],async()=>(await m.cases.getAll()).filter(i=>i.status==="Archived")),{mutate:v}=C(async s=>{if(!u.find(x=>x.id===s))throw new Error("Case not found");return m.cases.update(s,{status:"Archived"})},{invalidateKeys:[["cases"]],onSuccess:()=>t.success("Case archived successfully"),onError:()=>t.error("Failed to archive case")}),{mutate:A}=C(async s=>{if(!h.find(x=>x.id===s))throw new Error("Case not found");return m.cases.update(s,{status:"Active"})},{invalidateKeys:[["cases"]],onSuccess:()=>t.success("Case restored successfully"),onError:()=>t.error("Failed to restore case")}),k=()=>{if(n.length===0){t.warning("No cases selected");return}n.forEach(s=>v(s)),g([])},w=()=>{t.info("Export functionality coming soon")},E=()=>{t.info("Import functionality coming soon")};return e.jsxs("div",{className:"flex flex-col h-full space-y-6 p-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:r("text-2xl font-bold",a.text.primary),children:"Case Operations"}),e.jsx("p",{className:r("text-sm",a.text.secondary),children:"Archive, bulk actions, and case transfers"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(f,{label:"Active Cases",value:u.length,icon:j,className:"border-l-4 border-l-blue-600"}),e.jsx(f,{label:"Archived Cases",value:h.length,icon:o,className:"border-l-4 border-l-slate-500"}),e.jsx(f,{label:"Selected",value:n.length,icon:y,className:"border-l-4 border-l-purple-600"})]}),e.jsx(F,{tabs:[{id:"archive",label:"Archive",icon:o},{id:"bulk",label:"Bulk Actions",icon:j},{id:"transfer",label:"Transfers",icon:y}],activeTab:l,onChange:N}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l==="archive"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{title:"Archive Cases",children:e.jsx("div",{className:"space-y-3",children:u.slice(0,10).map(s=>e.jsxs("div",{className:r("flex items-center justify-between p-3 rounded border",a.border.default,a.surface.default),children:[e.jsxs("div",{children:[e.jsx("div",{className:r("font-medium",a.text.primary),children:s.title}),e.jsx("div",{className:r("text-sm",a.text.secondary),children:s.caseNumber})]}),e.jsx(c,{size:"sm",variant:"secondary",icon:o,onClick:()=>v(s.id),children:"Archive"})]},s.id))})}),e.jsx(d,{title:"Archived Cases",children:e.jsx("div",{className:"space-y-3",children:h.slice(0,10).map(s=>e.jsxs("div",{className:r("flex items-center justify-between p-3 rounded border",a.border.default,a.surface.default),children:[e.jsxs("div",{children:[e.jsx("div",{className:r("font-medium",a.text.primary),children:s.title}),e.jsx("div",{className:r("text-sm",a.text.secondary),children:s.caseNumber})]}),e.jsx(c,{size:"sm",variant:"primary",icon:S,onClick:()=>A(s.id),children:"Restore"})]},s.id))})})]}),l==="bulk"&&e.jsx(d,{title:"Bulk Operations",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{icon:o,onClick:k,children:"Archive Selected"}),e.jsx(c,{icon:T,onClick:w,children:"Export"}),e.jsx(c,{icon:B,onClick:E,children:"Import"})]}),e.jsxs("div",{className:r("text-sm",a.text.secondary),children:[n.length," case(s) selected"]})]})}),l==="transfer"&&e.jsx(d,{title:"Case Transfers",children:e.jsx("div",{className:r("text-center py-8",a.text.secondary),children:"Case transfer functionality - assign cases to different attorneys or firms"})})]})]})};export{V as CaseListMisc,V as default};
