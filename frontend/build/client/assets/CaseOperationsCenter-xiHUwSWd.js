import{r as n,j as e,aw as v,bT as N,aa as f,al as w,a_ as y,ab as C}from"./vendor-core-V-oW58GW.js";import{u,b as h,c as t}from"./useQueryHooks-Oyt-TMLP.js";import{B as p}from"./Badge-bF-hTHJZ.js";import{B as S}from"./Button-CDQlLg6j.js";import{C as o}from"./Card-CDOiP5UM.js";import{u as T}from"./ThemeContext-OPG61qw5.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";const F=()=>{const{isDark:s}=T(),[l,i]=n.useState("list"),[d,g]=n.useState("all"),{data:r,isLoading:j}=u(["workflow","instances"],()=>h.workflow.getInstances(),{}),{data:b}=u(["users","team"],()=>h.users.getAll(),{}),c=n.useMemo(()=>r?{active:(r||[]).filter(a=>a.status==="running"||a.status==="paused").length,dueToday:0,inProgress:(r||[]).filter(a=>a.status==="running").length,completed:(r||[]).filter(a=>a.status==="completed").length}:{active:0,dueToday:0,inProgress:0,completed:0},[r]),m=n.useMemo(()=>r?d==="all"?r:(r||[]).filter(a=>a.status.toLowerCase()===d):[],[r,d]);return e.jsxs("div",{className:t("h-full flex flex-col",s?"bg-slate-900":"bg-slate-50"),children:[e.jsxs("div",{className:t("border-b px-6 py-4",s?"bg-slate-800 border-slate-700":"bg-white border-slate-200"),children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:t("flex items-center gap-1 p-1 rounded-lg",s?"bg-slate-700":"bg-slate-100"),children:[e.jsx("button",{onClick:()=>i("list"),className:t("p-2 rounded",l==="list"?s?"bg-slate-600 text-slate-100":"bg-white text-slate-900 shadow-sm":s?"text-slate-400":"text-slate-600"),children:e.jsx(v,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i("kanban"),className:t("p-2 rounded",l==="kanban"?s?"bg-slate-600 text-slate-100":"bg-white text-slate-900 shadow-sm":s?"text-slate-400":"text-slate-600"),children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i("calendar"),className:t("p-2 rounded",l==="calendar"?s?"bg-slate-600 text-slate-100":"bg-white text-slate-900 shadow-sm":s?"text-slate-400":"text-slate-600"),children:e.jsx(f,{className:"w-4 h-4"})})]}),e.jsxs(S,{variant:"primary",size:"sm",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"New Task"]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(y,{className:t("absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",s?"text-slate-400":"text-slate-500")}),e.jsx("input",{type:"text",placeholder:"Search tasks, documents, or team members...",className:t("w-full pl-10 pr-4 py-2 rounded-lg border text-sm",s?"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500")})]}),e.jsxs("select",{value:d,onChange:a=>g(a.target.value),className:t("px-4 py-2 rounded-lg border text-sm",s?"bg-slate-700 border-slate-600 text-slate-100":"bg-white border-slate-300 text-slate-900"),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(x,{title:"Active Tasks",value:c.active.toString(),isDark:s}),e.jsx(x,{title:"Due Today",value:c.dueToday.toString(),isDark:s}),e.jsx(x,{title:"In Progress",value:c.inProgress.toString(),isDark:s}),e.jsx(x,{title:"Completed",value:c.completed.toString(),isDark:s})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(o,{className:"lg:col-span-2 p-6",children:[e.jsx("h3",{className:t("text-lg font-semibold mb-4",s?"text-slate-100":"text-slate-900"),children:"Active Tasks"}),j?e.jsx("div",{className:"text-center py-8",children:e.jsx(C,{className:"w-6 h-6 animate-spin mx-auto text-blue-500"})}):m.length===0?e.jsx("div",{className:t("text-center py-8 text-sm",s?"text-slate-400":"text-slate-600"),children:"No tasks found"}):e.jsx("div",{className:"space-y-3",children:m.slice(0,10).map(a=>e.jsx(A,{task:a,isDark:s},a.id))})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(o,{className:"p-6",children:[e.jsx("h3",{className:t("text-lg font-semibold mb-4",s?"text-slate-100":"text-slate-900"),children:"Team Activity"}),e.jsx("div",{className:"space-y-3",children:b?.slice(0,5).map(a=>e.jsx(k,{member:a,isDark:s},a.id))})]})})]})]})]})},x=({title:s,value:l,isDark:i})=>e.jsxs(o,{className:"p-4",children:[e.jsx("div",{className:t("text-xs font-medium mb-1",i?"text-slate-400":"text-slate-600"),children:s}),e.jsx("div",{className:t("text-2xl font-bold",i?"text-slate-100":"text-slate-900"),children:l})]}),A=({task:s,isDark:l})=>e.jsx("div",{className:t("p-4 rounded-lg border",l?"border-slate-700 bg-slate-800/50":"border-slate-200 bg-white"),children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("input",{type:"checkbox",className:"mt-1",checked:s.status==="completed",readOnly:!0}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:t("font-medium",l?"text-slate-100":"text-slate-900"),children:s.templateId||"Workflow Instance"}),e.jsxs("div",{className:t("text-sm mt-1",l?"text-slate-400":"text-slate-600"),children:["Status: ",s.status]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.status==="running"&&e.jsx(p,{variant:"info",children:"In Progress"}),s.status==="completed"&&e.jsx(p,{variant:"success",children:"Completed"}),s.startedAt&&e.jsxs("span",{className:t("text-xs","text-slate-500"),children:["Started ",new Date(s.startedAt).toLocaleDateString()]})]})]})]})})}),k=({member:s,isDark:l})=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:t("w-2 h-2 rounded-full mt-2","bg-blue-500")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:t("text-sm font-medium",l?"text-slate-300":"text-slate-700"),children:s.name||s.email}),e.jsx("div",{className:t("text-xs mt-1","text-slate-500"),children:s.role||"Team Member"})]})]});export{F as CaseOperationsCenter};
