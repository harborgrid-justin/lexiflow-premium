import{r as m,j as e,al as d,a_ as C,F as x,aD as N}from"./vendor-core-V-oW58GW.js";import{B as b}from"./Badge-bF-hTHJZ.js";import{B as l}from"./Button-CDQlLg6j.js";import{I as w}from"./Input-Dmln04Yk.js";import{A as L}from"./AdaptiveLoader-D5wOoiN1.js";import{C as S}from"./Card-CDOiP5UM.js";import{E as T}from"./EmptyState-7A4cJUVU.js";import{E as A}from"./ErrorState-WL3az5ve.js";import{u as D,c as i}from"./useQueryHooks-Oyt-TMLP.js";import{u as E}from"./ThemeContext-OPG61qw5.js";import{D as k}from"./dataService-BWLMkXM4.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const J=({onSelectClause:h})=>{const{theme:s}=E(),[a,p]=m.useState(""),[r,o]=m.useState(null),{data:n=[],isLoading:u,error:f,refetch:j}=D(["clauses"],async()=>await k.clauses.getAll()),y=["Confidentiality","Liability","Payment Terms","Termination","Indemnification","Dispute Resolution"],c=n.filter(t=>{const g=!a||t.title?.toLowerCase().includes(a.toLowerCase())||t.content?.toLowerCase().includes(a.toLowerCase()),v=!r||t.category===r;return g&&v});return f?e.jsx(A,{message:"Failed to load clause library",onRetry:j}):u?e.jsx(L,{contentType:"list",itemCount:8,shimmer:!0,message:"Loading clause library..."}):e.jsxs("div",{className:i("h-full flex flex-col",s.background),children:[e.jsxs("div",{className:"p-4 border-b shrink-0",style:{borderColor:s.border.default},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:i("text-xl font-bold",s.text.primary),children:"Clause Library"}),e.jsxs("p",{className:i("text-sm",s.text.secondary),children:[n.length," clauses available"]})]}),e.jsx(l,{variant:"primary",icon:d,children:"Create Clause"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:i("absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4",s.text.tertiary)}),e.jsx(w,{placeholder:"Search clauses by title or content...",value:a,onChange:t=>p(t.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[e.jsx(l,{size:"sm",variant:r===null?"primary":"outline",onClick:()=>o(null),children:"All Categories"}),y.map(t=>e.jsx(l,{size:"sm",variant:r===t?"primary":"outline",onClick:()=>o(t),children:t},t))]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.length===0?e.jsx(T,{icon:x,title:a||r?"No matching clauses":"No clauses available",description:a||r?"Try adjusting your search or filters to find clauses":"Create your first clause template to get started",action:!a&&!r?e.jsx(l,{variant:"primary",icon:d,children:"Create Your First Clause"}):void 0}):e.jsx("div",{className:"grid gap-3",children:c.map(t=>e.jsx(S,{className:"cursor-pointer hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-4",onClick:()=>h(t),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:i("h-5 w-5",s.text.secondary)}),e.jsx("h3",{className:i("font-semibold",s.text.primary),children:t.title||"Untitled Clause"})]}),t.category&&e.jsx(b,{variant:"info",children:t.category})]}),e.jsx("p",{className:i("text-sm line-clamp-2 mb-3",s.text.secondary),children:t.content||"No content available"}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:s.text.tertiary},children:[t.tags&&t.tags.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"h-3 w-3"}),t.tags.slice(0,3).join(", "),t.tags.length>3&&` +${t.tags.length-3}`]}),t.version&&e.jsxs("span",{children:["Version ",t.version]}),t.updatedAt&&e.jsxs("span",{children:["Updated ",new Date(t.updatedAt).toLocaleDateString()]})]})]})},t.id))})})]})};export{J as default};
