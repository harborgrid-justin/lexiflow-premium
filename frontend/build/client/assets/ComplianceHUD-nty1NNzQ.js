import{r as c,j as s,K as N,bC as C,cO as v,u as y,T as S,v as F}from"./vendor-core-V-oW58GW.js";import{u as T}from"./ThemeContext-OPG61qw5.js";import{c as n}from"./useQueryHooks-BdeOvP9e.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";const M=({rules:t,sections:l,score:h})=>{const{theme:a}=T(),[r,g]=c.useState(!1),i=c.useMemo(()=>{const e=[];e.push({id:"font",name:"Font Family",status:"pass",message:`Using ${t?.fontFamily||"Times New Roman"} as required`}),e.push({id:"fontSize",name:"Font Size",status:"pass",message:`${t?.fontSize||12}pt body text`}),e.push({id:"margins",name:"Page Margins",status:"pass",message:`${t?.marginTop||"1in"} top, ${t?.marginBottom||"1in"} bottom`}),e.push({id:"spacing",name:"Line Height",status:"pass",message:`${t?.lineHeight||2}x line height`});const m=Math.ceil(l.reduce((o,b)=>o+(b.content?.length||0),0)/3e3),u=25;e.push({id:"pageLimit",name:"Page Estimate",status:m>u?"fail":m>u*.9?"warn":"pass",message:`~${m} pages`});const f=l.some(o=>o.type==="Certificate"||o.content?.toLowerCase().includes("certificate of service"));return e.push({id:"certificate",name:"Certificate of Service",status:f?"pass":"warn",message:f?"Included":"Not detected"}),e},[t?.fontFamily,t?.fontSize,t?.marginTop,t?.marginBottom,t?.lineHeight,l]),{passCount:w,warnCount:d,failCount:p}=c.useMemo(()=>({passCount:i.filter(e=>e.status==="pass").length,warnCount:i.filter(e=>e.status==="warn").length,failCount:i.filter(e=>e.status==="fail").length}),[i]),j=e=>{switch(e){case"pass":return s.jsx(F,{className:"h-3.5 w-3.5 text-emerald-500"});case"warn":return s.jsx(S,{className:"h-3.5 w-3.5 text-amber-500"});case"fail":return s.jsx(y,{className:"h-3.5 w-3.5 text-rose-500"});default:return null}},x=p>0?"fail":d>0?"warn":"pass";return s.jsxs("div",{className:n("fixed bottom-4 right-4 z-50 rounded-lg shadow-lg border transition-all",a.surface.overlay,a.border.default,r?"w-72":"w-auto"),children:[s.jsxs("button",{onClick:()=>g(!r),className:n("w-full flex items-center justify-between p-3 rounded-lg transition-colors","hover:bg-slate-50 dark:hover:bg-slate-800"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:n("w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold",x==="pass"?"bg-emerald-100 text-emerald-700":x==="warn"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"),children:[h,"%"]}),s.jsxs("div",{className:"text-left",children:[s.jsx("span",{className:n("text-xs font-bold block",a.text.primary),children:"Compliance"}),s.jsxs("span",{className:n("text-[10px]",a.text.secondary),children:[w," pass · ",d," warn · ",p," fail"]})]})]}),r?s.jsx(N,{className:"h-4 w-4"}):s.jsx(C,{className:"h-4 w-4"})]}),r&&s.jsxs("div",{className:n("border-t p-3 space-y-2",a.border.subtle),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(v,{className:n("h-4 w-4",a.text.tertiary)}),s.jsxs("span",{className:n("text-xs font-medium",a.text.secondary),children:[t?.name||"Federal"," Rules"]})]}),i.map(e=>s.jsxs("div",{className:n("flex items-center justify-between p-2 rounded text-xs",a.surface.highlight),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[j(e.status),s.jsx("span",{className:n("font-medium",a.text.primary),children:e.name})]}),s.jsx("span",{className:a.text.secondary,children:e.message})]},e.id))]})]})};export{M as ComplianceHUD,M as default};
