import{r as u,j as e,a0 as L,a1 as B,a2 as A,F as w,q as R,T as M,p as S,t as $,E as O,X as H,a3 as I,a4 as W,a5 as F,a6 as U,a7 as _,I as V,a8 as Y,a9 as K,aa as q,ab as G,ac as X,ad as Q,ae as J}from"./vendor-core-V-oW58GW.js";import{L as E,u as Z}from"./useSessionStorage-HC9RvMcM.js";import{B as k}from"./Button-PaGqeZoR.js";import{D as ee,T as se,a as te}from"./tabs.config-F85gN5xx.js";import{c as o,u as f}from"./useQueryHooks-BdeOvP9e.js";import{D as j,T as z,S as ae}from"./dataService-75QCl8KS.js";import{u as C}from"./ThemeContext-OPG61qw5.js";import{B as re}from"./Badge-B08w10nz.js";import{C as v}from"./Card-D56KNEnI.js";import{R as ie,B as le,C as ne,X as oe,Y as ce,T as de,a as xe,b as me}from"./vendor-charts-KZIdMATq.js";import{u as he}from"./useInterval-C7tD4i7N.js";import{M as ue}from"./MetricCard-CDV5joW_.js";import"./SyncContext-DYD5yPAv.js";import{E as ge}from"./EmptyState-BwtZeBY5.js";import{S as be}from"./scheduler-BERajRBE.js";import"./type-mappings-DEPYyX4d.js";import{a4 as pe}from"./vendor-misc-Dwkhvdtg.js";const fe=()=>{const{theme:s}=C();return u.useMemo(()=>({grid:s.chart.grid,text:s.chart.text,colors:s.chart.colors,tooltipStyle:{backgroundColor:s.chart.tooltip.bg,borderColor:s.chart.tooltip.border,color:s.chart.tooltip.text,borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",borderWidth:"1px"}}),[s])},P=u.memo(({activeProjects:s,chartData:a})=>{const{theme:t}=C(),l=fe(),[r,m]=u.useState(!1);u.useEffect(()=>{const c=setTimeout(()=>m(!0),100);return()=>clearTimeout(c)},[]);const h=[l.colors.primary,l.colors.secondary,l.colors.secondary,l.colors.success,l.colors.warning],x=Array.isArray(a)?a:[],g=Array.isArray(s)?s:[];return e.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[e.jsx(v,{title:"Case Phase Distribution & Volume",subtitle:"Active matters by litigation stage",className:"h-[28rem]",children:e.jsx("div",{className:"h-full w-full min-h-[20rem]",children:r&&x.length>0?e.jsx(ie,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:e.jsxs(le,{data:x,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(ne,{strokeDasharray:"3 3",vertical:!1,stroke:l.grid}),e.jsx(oe,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:l.text,fontSize:12},dy:10}),e.jsx(ce,{axisLine:!1,tickLine:!1,tick:{fill:l.text,fontSize:12}}),e.jsx(de,{cursor:{fill:t.surface.highlight},contentStyle:l.tooltipStyle}),e.jsx(xe,{dataKey:"count",radius:[4,4,0,0],barSize:40,children:x.map((c,i)=>e.jsx(me,{fill:h[i%h.length]},`analytics-cell-${c.name||i}`))})]})}):e.jsx("div",{className:o("flex items-center justify-center h-full",t.text.secondary),children:r?"No data available":"Loading chart..."})})}),e.jsxs(v,{title:"Priority Workstreams",subtitle:"High-impact tasks requiring attention",noPadding:!0,children:[e.jsx("div",{className:o("divide-y",t.border.default),children:g.map(c=>e.jsxs("div",{className:o("flex flex-col sm:flex-row sm:items-center py-4 px-5 transition-colors group cursor-pointer",`hover:${t.surface.highlight}`),children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0 mb-3 sm:mb-0",children:[e.jsx("div",{className:o("p-2.5 rounded-lg mr-4 shrink-0 transition-colors",t.primary.light,t.primary.text),children:e.jsx(L,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:o("font-semibold text-sm truncate",t.text.primary),children:c.title}),e.jsx(re,{variant:c.status==="Finalizing"?"success":"info",children:c.status})]}),e.jsxs("p",{className:o("text-xs truncate flex items-center",t.text.secondary),children:[c.case,e.jsx("span",{className:"mx-2",children:"•"}),e.jsxs("span",{className:c.due==="Today"?"text-amber-600 font-bold":"",children:["Due: ",c.due]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 sm:ml-4 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex-1 sm:w-32",children:[e.jsxs("div",{className:o("flex justify-between text-[10px] mb-1",t.text.secondary),children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[c.progress,"%"]})]}),e.jsx("div",{className:o("w-full rounded-full h-1.5 overflow-hidden",t.surface.highlight),children:e.jsx("div",{className:o("h-1.5 rounded-full transition-all duration-1000",t.primary.DEFAULT),style:{width:`${c.progress}%`}})})]}),e.jsx("div",{className:o("hidden sm:block transition-colors",t.text.tertiary,`group-hover:${t.primary.text}`),children:e.jsx(B,{className:"h-4 w-4"})})]})]},c.id))}),e.jsx("div",{className:o("p-3 border-t flex justify-center rounded-b-lg",t.border.default,t.surface.highlight),children:e.jsxs(k,{variant:"ghost",size:"sm",className:t.primary.text,children:["View All Active Projects ",e.jsx(A,{className:"ml-1 h-3 w-3"})]})})]})]})});P.displayName="DashboardAnalytics";function je({stats:s}){const[a,t]=u.useState(s||{activeCases:0,pendingMotions:0,billableHours:0,highRisks:0});he(()=>{Math.random()>.7&&t(r=>({...r,billableHours:r.billableHours+(Math.random()>.5?.5:0),pendingMotions:r.pendingMotions+(Math.random()>.8?1:0),activeCases:r.activeCases+(Math.random()>.95?1:0)}))},3e3);const l=[{label:"Active Cases",value:a.activeCases,icon:L,color:"border-l-blue-600",trend:"+2 New",isLive:!0},{label:"Pending Motions",value:a.pendingMotions,icon:w,color:"border-l-indigo-600",isLive:!0},{label:"Billable Hours (Mo)",value:a.billableHours,icon:R,color:"border-l-emerald-600",trend:"+5% MoM",isLive:!0},{label:"High Risk Items",value:a.highRisks,icon:M,color:"border-l-rose-600",isLive:!1}];return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((r,m)=>e.jsx(ue,{label:r.label,value:r.value,icon:r.icon,trend:r.trend,trendUp:!0,className:`border-l-4 ${r.color}`,isLive:r.isLive},m))})}const ve=({onSelectCase:s,alerts:a})=>{const{theme:t}=C(),{data:l}=f(["billing","overview"],()=>j.billing.getOverviewStats(),{initialData:{realization:0,totalBilled:0,month:"Loading..."}});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(v,{title:"Firm Alerts",subtitle:"Notifications & critical updates",className:"h-full",children:[e.jsx("div",{className:"space-y-3",children:a.length===0?e.jsx(ge,{icon:S,title:"No alerts",description:"All clear! No critical updates at this time.",className:"py-6"}):a.map(r=>e.jsxs("div",{className:o("relative flex items-start p-3 rounded-lg border transition-all cursor-pointer group",r.caseId?o(t.surface.default,t.border.default,"hover:border-blue-400 hover:shadow-sm"):o(t.surface.highlight,t.border.default)),onClick:()=>r.caseId&&s(r.caseId),children:[e.jsx("div",{className:o("mt-0.5 mr-3 shrink-0",r.caseId?"text-blue-500":"text-slate-400"),children:r.caseId?e.jsx(S,{className:"h-5 w-5"}):e.jsx($,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:o("text-sm font-semibold leading-tight mb-1",t.text.primary),children:r.message}),e.jsx("p",{className:o("text-xs line-clamp-2",t.text.secondary),children:r.detail}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsx(ee,{date:r.time,className:"text-[10px] font-medium opacity-70"}),r.caseId&&e.jsxs("span",{className:o("text-[10px] font-bold flex items-center opacity-0 group-hover:opacity-100 transition-opacity",t.primary.text),children:["View Matter ",e.jsx(A,{className:"h-2 w-2 ml-1"})]})]})]})]},r.id))}),e.jsx("div",{className:o("mt-6 pt-4 border-t text-center",t.border.default),children:e.jsx(k,{variant:"ghost",size:"sm",className:o("text-xs uppercase tracking-wide",t.text.secondary),children:"View Notification Center"})})]}),e.jsxs("div",{className:o("rounded-xl p-6 shadow-xl border",t.surface.overlay,t.text.inverse),children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"p-2.5 bg-white/10 rounded-lg mr-4 border border-white/10",children:e.jsx(w,{className:"h-5 w-5 text-blue-300"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg leading-none",children:"Billing Cycle"}),e.jsxs("p",{className:"text-xs opacity-70 mt-1",children:["Current Period: ",l?.month]})]})]}),e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold opacity-50 uppercase mb-1",children:"Realization"}),e.jsxs("p",{className:"text-2xl font-mono font-bold text-green-400",children:[l?.realization,"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold opacity-50 uppercase mb-1",children:"Total Billed"}),e.jsxs("p",{className:"text-xl font-mono font-bold text-blue-400",children:["$",((l?.totalBilled||0)/1e3).toFixed(0),"k"]})]})]}),e.jsx("div",{className:"w-full bg-black/20 h-1.5 rounded-full mt-4 overflow-hidden",children:e.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${l?.realization}%`}})})]})]})},T=({onSelectCase:s})=>{const{data:a,isLoading:t}=f(["dashboard","stats"],()=>j.dashboard.getStats()),{data:l=[]}=f(["tasks","all"],()=>j.tasks.getAll()),{data:r=[]}=f(["dashboard","charts"],()=>j.dashboard.getChartData()),m=r.map(i=>({name:i.name,count:i.value})),{data:h=[]}=f(["dashboard","alerts"],()=>j.dashboard.getRecentAlerts()),x=h.map((i,d)=>{if(typeof i!="object"||i===null)return{id:d,message:"",detail:"",time:"",caseId:""};const b="id"in i&&typeof i.id=="number"?i.id:"id"in i&&parseInt(String(i.id),10)||d,p="message"in i?String(i.message):"",N="detail"in i?String(i.detail):"",n="time"in i?String(i.time):"",y="caseId"in i?String(i.caseId):"";return{id:b,message:p,detail:N,time:n,caseId:y}}),[g,c]=u.useState([]);return u.useEffect(()=>{l.length>0&&be.defer(()=>{const i=l.filter(d=>d.priority==="High"&&d.status!==z.COMPLETED).slice(0,5).map(d=>({id:d.id,title:d.title,case:d.caseId||"General",progress:d.status==="In Progress"?50:10,status:d.status,due:d.dueDate||"No due date"}));c(i)})},[l]),t?e.jsx(E,{message:"Aggregating Firm Intelligence..."}):e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx(je,{stats:a||null}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsx(P,{activeProjects:g,chartData:m}),e.jsx(ve,{onSelectCase:s,alerts:x})]})]})},Ne=s=>{const a={size:18,strokeWidth:2};switch(s){case"case_update":return e.jsx(w,{...a});case"document":return e.jsx(w,{...a});case"deadline":return e.jsx(q,{...a});case"task":return e.jsx(I,{...a});case"message":return e.jsx(K,{...a});case"invoice":return e.jsx(Y,{...a});case"warning":return e.jsx(M,{...a});case"error":return e.jsx(S,{...a});case"system":case"info":return e.jsx(V,{...a})}},ye=s=>{switch(s){case"case_update":return"text-blue-600 bg-blue-50";case"document":return"text-purple-600 bg-purple-50";case"deadline":return"text-amber-600 bg-amber-50";case"task":return"text-green-600 bg-green-50";case"message":return"text-blue-600 bg-blue-50";case"invoice":return"text-emerald-600 bg-emerald-50";case"warning":return"text-amber-600 bg-amber-50";case"error":return"text-red-600 bg-red-50";case"system":case"info":return"text-slate-600 bg-slate-50"}},we=s=>{if(s==="low"||s==="medium")return null;const a=s==="urgent"?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800";return e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${a}`,children:s.charAt(0).toUpperCase()+s.slice(1)})},ke=({notification:s,onMarkAsRead:a,onDelete:t,onClick:l})=>{const r=()=>{s.read||a(s.id),l?.(s)},m=x=>{x.stopPropagation(),t(s.id)},h=x=>{x.stopPropagation(),a(s.id)};return e.jsxs("div",{className:`
        group relative p-4 border-b border-gray-100 cursor-pointer
        transition-colors duration-150
        ${s.read?"hover:bg-gray-50":"bg-blue-50/50 hover:bg-blue-50"}
      `,onClick:r,role:"button",tabIndex:0,onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),r())},children:[!s.read&&e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-600"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`flex-shrink-0 p-2 rounded-lg ${ye(s.type)}`,children:Ne(s.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:s.title}),we(s.priority)]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:s.message}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-500",children:[e.jsx("span",{children:pe(s.timestamp,{addSuffix:!0})}),s.actionLabel&&e.jsx("span",{className:"text-blue-600 font-medium",children:s.actionLabel})]})]})})}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[!s.read&&e.jsx("button",{onClick:h,className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Mark as read",type:"button","aria-label":"Mark as read",children:e.jsx(U,{size:16,strokeWidth:2})}),e.jsx("button",{onClick:m,className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",type:"button","aria-label":"Delete notification",children:e.jsx(_,{size:16,strokeWidth:2})})]})]})]})},Ce=({notifications:s,unreadCount:a,onMarkAsRead:t,onMarkAllAsRead:l,onDelete:r,onNotificationClick:m,isLoading:h=!1,className:x=""})=>{const[g,c]=u.useState("all"),[i,d]=u.useState(!1),b=u.useRef(null),p=g==="unread"?s.filter(n=>!n.read):s;u.useEffect(()=>{const n=y=>{b.current&&!b.current.contains(y.target)&&d(!1)};if(i)return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[i]);const N=u.useCallback(()=>{l()},[l]);return e.jsxs("div",{className:`relative ${x}`,ref:b,children:[e.jsxs("button",{onClick:()=>d(!i),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors","aria-label":`Notifications (${a} unread)`,"aria-expanded":i,type:"button",children:[e.jsx(O,{size:20,strokeWidth:2}),a>0&&e.jsx("span",{className:"absolute top-1 right-1 flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-600 rounded-full",children:a>9?"9+":a})]}),i&&e.jsxs("div",{className:"absolute right-0 mt-2 w-[420px] bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a>0&&e.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:[a," new"]})]}),e.jsx("button",{onClick:()=>d(!1),className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors","aria-label":"Close notifications",type:"button",children:e.jsx(H,{size:18,strokeWidth:2})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-100 bg-gray-50",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c("all"),className:`px-3 py-1.5 text-sm font-medium rounded transition-colors ${g==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,type:"button",children:"All"}),e.jsx("button",{onClick:()=>c("unread"),className:`px-3 py-1.5 text-sm font-medium rounded transition-colors ${g==="unread"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,type:"button",children:"Unread"})]}),a>0&&e.jsxs("button",{onClick:N,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",type:"button",children:[e.jsx(I,{size:16,strokeWidth:2}),"Mark all read"]})]}),e.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:h?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"Loading notifications..."})]}):p.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-3",children:g==="unread"?e.jsx(W,{size:28,strokeWidth:1.5,className:"text-gray-400"}):e.jsx(F,{size:28,strokeWidth:1.5,className:"text-gray-400"})}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:g==="unread"?"All caught up!":"No notifications"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:g==="unread"?"You have no unread notifications":"You have no notifications yet"})]}):p.map(n=>e.jsx(ke,{notification:n,onMarkAsRead:t,onDelete:r,onClick:m},n.id))}),p.length>0&&e.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50 text-center",children:e.jsx("button",{className:"text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors",type:"button",children:"View all notifications"})})]})]})},D=({activeTab:s,currentUser:a})=>{const{theme:t}=C(),{data:l=[],isLoading:r,error:m}=f([ae.TASKS,"all"],j.tasks.getAll),{data:h=[],isLoading:x,error:g}=f(["calendar","all"],j.calendar.getEvents),c=Array.isArray(l)?l:[],i=Array.isArray(h)?h:[],d=c.filter(n=>n.assignee===a?.name&&n.status!==z.COMPLETED),b=i.filter(n=>n.type==="hearing"||n.type==="task"),p=r||x,N=m||g;return e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-fade-in",children:p?e.jsx("div",{className:"lg:col-span-2 flex justify-center items-center p-12",children:e.jsx(G,{className:"animate-spin h-8 w-8 text-blue-600"})}):N?e.jsx("div",{className:"lg:col-span-2",children:e.jsx(v,{title:"Connection Issue",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:o("text-sm mb-2",t.text.secondary),children:"Unable to load data. Please ensure the backend is running."}),e.jsx("p",{className:o("text-xs",t.text.tertiary),children:"Working in offline mode with cached data."})]})})}):e.jsxs(e.Fragment,{children:[s==="tasks"&&e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"My Priority Tasks",className:"lg:col-span-2",children:e.jsxs("div",{className:"space-y-4",children:[d.length===0&&e.jsx("p",{className:"text-center text-sm text-slate-500 py-8",children:"No pending tasks assigned to you."}),d.map((n,y)=>e.jsxs("div",{className:o("p-4 border rounded-lg flex items-center justify-between transition-colors",t.surface.default,t.border.default,`hover:${t.surface.highlight}`),children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:o("p-2 rounded-full",n.priority==="High"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"),children:e.jsx(X,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:o("font-bold text-sm",t.text.primary),children:n.title}),e.jsxs("p",{className:o("text-xs",t.text.secondary),children:[n.caseId," • Due: ",n.dueDate]})]})]}),e.jsx(k,{size:"sm",variant:"ghost",icon:A,children:"Start"})]},`task-${n.caseId}-${n.title}`))]})}),e.jsx(v,{title:"Upcoming Meetings",children:e.jsxs("div",{className:"space-y-3",children:[b.slice(0,2).map((n,y)=>e.jsxs("div",{className:o("flex items-center gap-3 p-3 rounded border-l-4 bg-slate-50",t.border.default,n.priority==="High"?"border-l-red-500":"border-l-blue-500"),children:[e.jsxs("div",{className:"text-center w-12",children:[e.jsx("span",{className:"block text-xs font-bold text-slate-500",children:new Date(n.date).toLocaleString("default",{month:"short"}).toUpperCase()}),e.jsx("span",{className:"block text-lg font-bold text-slate-900",children:new Date(n.date).getDate()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:n.title}),e.jsx("p",{className:"text-xs text-slate-500",children:n.location||"TBD"})]})]},`meeting-${n.date}-${n.priority}`)),b.length===0&&e.jsx("p",{className:"text-center text-sm text-slate-500 py-4",children:"No upcoming meetings."})]})})]}),s==="notifications"&&e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ce,{})})]})})},Se=({activeTab:s,onSelectCase:a,currentUser:t})=>{switch(s){case"overview":return e.jsx(T,{onSelectCase:a});case"tasks":return e.jsx(D,{activeTab:"tasks",currentUser:t});case"notifications":return e.jsx(D,{activeTab:"notifications",currentUser:t});default:return e.jsx(T,{onSelectCase:a})}},_e=({onSelectCase:s,initialTab:a,currentUser:t})=>{const[l,r]=u.useTransition(),[m]=Z("dashboard_active_tab",a||"overview"),h=g=>{r(()=>{h()})},x=()=>e.jsx(Se,{activeTab:m,onSelectCase:s,currentUser:t});return e.jsx(se,{pageTitle:"Executive Dashboard",pageSubtitle:"Real-time firm intelligence and personal productivity center.",pageActions:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"flex items-center text-[10px] font-bold px-2 py-1 rounded bg-green-100 text-green-700 border border-green-200",children:[e.jsx(Q,{className:"h-3 w-3 mr-1"})," SYSTEM OPERATIONAL"]}),e.jsx(k,{variant:"outline",size:"sm",icon:J,children:"Export Report"})]}),tabConfig:te,activeTabId:m,onTabChange:h,children:e.jsx(u.Suspense,{fallback:e.jsx(E,{message:"Loading Dashboard Module..."}),children:e.jsx("div",{className:o(l&&"opacity-60 transition-opacity"),children:x()})})})};export{_e as D};
