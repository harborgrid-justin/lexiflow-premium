import{j as e,ab as R,V as S,v as D,F as u,a2 as j,T as P,D as L}from"./vendor-core-V-oW58GW.js";import{C as n}from"./Card-CDOiP5UM.js";import{B as g}from"./Button-CDQlLg6j.js";import{B as f}from"./Badge-bF-hTHJZ.js";import{D as o}from"./dataService-BWLMkXM4.js";import{u as w}from"./ThemeContext-OPG61qw5.js";import{u as d,c as t}from"./useQueryHooks-Oyt-TMLP.js";import{M as x}from"./MetricCard-BH_9X7pi.js";import{j as k}from"./case-detail-q84K17Pa.js";import{ChartColorService as q}from"./chartColorService-Dq1XQNFk.js";import{R as v,B as b,X as y,T as N,a as C,b as T,Y as B}from"./vendor-charts-KZIdMATq.js";import"./vendor-misc-Dwkhvdtg.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";import"./schemas-B2_dy3tf.js";import"./SyncContext-B5_p5hCg.js";import"./VirtualList-r2WXvtCD.js";import"./AppShell-Cug-APl3.js";import"./tabs.config-D59pmwVC.js";import"./PageHeader-C4TFe3Td.js";import"./formatters-stMuSkc6.js";import"./Table-C_bcd1kC.js";import"./EmptyState-7A4cJUVU.js";import"./useNotify-DdRjm5G5.js";import"./queryKeys-BBVgMz36.js";import"./useSessionStorage-D_292xEY.js";import"./ErrorState-WL3az5ve.js";import"./ConfirmDialog--jvbqDAw.js";import"./Modal-Rns91qFF.js";import"./Kanban-BI78PbzY.js";import"./dateUtils-rLIRMrtk.js";import"./FilterPanel-BteidCPx.js";import"./AdaptiveLoader-D5wOoiN1.js";import"./UserAvatar-BPVf-Spq.js";import"./Tabs-7xONCRTX.js";import"./Input-Dmln04Yk.js";import"./TextArea-DrtcCAyn.js";import"./geminiService-_CYFbtO8.js";import"./TaskCreationModal-D5xiqN6m.js";import"./search.config-B6mvIgDA.js";import"./useToggle-CjLp2PQ4.js";import"./sanitize-k_Tw3ej1.js";import"./useModalState-Cst_3NmK.js";import"./scheduler-BERajRBE.js";import"./RouteErrorBoundary-Nha8Il06.js";import"./meta-utils-lVs9HXG9.js";const z=({stats:i,onNavigate:s})=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"cursor-pointer",onClick:()=>s("requests"),children:e.jsx(x,{label:"Pending Requests",value:i.pendingRequests,className:"border-l-4 border-l-blue-600 hover:shadow-md transition-all"})}),e.jsx(x,{label:"Upcoming Deadlines (7d)",value:"3",className:"border-l-4 border-l-amber-500"}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s("holds"),children:e.jsx(x,{label:"Legal Hold Pending",value:i.legalHolds,className:"border-l-4 border-l-red-600 hover:shadow-md transition-all"})}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s("privilege"),children:e.jsx(x,{label:"Privileged Items",value:i.privilegedItems,className:"border-l-4 border-l-purple-600 hover:shadow-md transition-all"})})]}),A=()=>{const{mode:i}=w(),s=k(),l=q.getPalette(i),{data:a=[],isLoading:h}=d(["discovery-funnel-stats","main"],o.discovery.getFunnelStats),{data:p=[],isLoading:c}=d(["discovery-custodian-stats","main"],o.discovery.getCustodianStats);return h||c?e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(R,{className:"animate-spin text-blue-600"})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(n,{title:"EDRM Data Funnel",className:"lg:col-span-2",children:e.jsx(v,{width:"100%",height:256,children:e.jsxs(b,{data:a,layout:"horizontal",barCategoryGap:"20%",children:[e.jsx(y,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1,tick:{fill:s.text}}),e.jsx(N,{cursor:{fill:"transparent"},formatter:r=>typeof r=="number"?r.toLocaleString():r??"",contentStyle:s.tooltipStyle}),e.jsx(C,{dataKey:"value",radius:[4,4,0,0],label:{position:"top",fontSize:10,fill:s.text,formatter:r=>typeof r=="number"?a.find(m=>m.value===r)?.label??"":""},children:a.map((r,m)=>e.jsx(T,{fill:l[m%l.length]},`cell-${m}`))})]})})}),e.jsx(n,{title:"Custodian Volume",children:e.jsx(v,{width:"100%",height:256,children:e.jsxs(b,{data:p,layout:"vertical",margin:{left:20},children:[e.jsx(y,{type:"number",hide:!0}),e.jsx(B,{dataKey:"name",type:"category",fontSize:11,width:60,tick:{fill:s.text}}),e.jsx(N,{cursor:{fill:"transparent"},contentStyle:s.tooltipStyle}),e.jsx(C,{dataKey:"docs",fill:l[0],radius:[0,4,4,0],barSize:20})]})})})]})},Pe=({onNavigate:i})=>{const{theme:s}=w(),{data:l=[]}=d(["requests","all"],()=>o.discovery.getRequests()),{data:a=[]}=d(["legal-holds","all"],()=>o.discovery.getLegalHolds()),{data:h=[]}=d(["privilege-log","all"],()=>o.discovery.getPrivilegeLog()),p={pendingRequests:l.filter(r=>r.status==="Served").length,legalHolds:a.filter(r=>r.status==="Pending").length,privilegedItems:h.length},c=l.filter(r=>r.status==="Overdue").length;return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx(z,{stats:p,onNavigate:i}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(n,{title:"FRCP Compliance Tracker",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded border bg-green-50 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-green-800",children:"Rule 26(f) Conference"}),e.jsx("p",{className:"text-xs text-green-700",children:"Plan Adopted"})]})]}),e.jsx(D,{className:"h-5 w-5 text-green-600"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded border cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>i("requests"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:t("text-sm font-bold",s.text.primary),children:"Rule 26(a)(1) Disclosures"}),e.jsx("p",{className:t("text-xs",s.text.secondary),children:"Initial Exchange Due"})]})]}),e.jsx(j,{className:"h-4 w-4 text-slate-400"})]}),c>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 rounded border bg-red-50 border-red-200 cursor-pointer",onClick:()=>i("requests"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-red-800",children:"Rule 37 Enforcement"}),e.jsxs("p",{className:"text-xs text-red-700",children:[c," Responses Overdue"]})]})]}),e.jsx(g,{size:"sm",variant:"danger",className:"text-xs h-7",children:"Compel"})]})]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(A,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(n,{title:"Review Progress",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:t("flex justify-between text-sm mb-1",s.text.primary),children:[e.jsx("span",{children:"Responsive Documents Review"}),e.jsx("span",{className:"font-bold",children:"78%"})]}),e.jsx("div",{className:t("w-full rounded-full h-2",s.surface.highlight),children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full w-[78%]"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:t("flex justify-between text-sm mb-1",s.text.primary),children:[e.jsx("span",{children:"Privilege Redactions"}),e.jsx("span",{className:"font-bold",children:"45%"})]}),e.jsx("div",{className:t("w-full rounded-full h-2",s.surface.highlight),children:e.jsx("div",{className:"bg-amber-500 h-2 rounded-full w-[45%]"})})]}),e.jsxs("div",{className:t("pt-4 border-t flex justify-between items-center",s.border.default),children:[e.jsx("span",{className:t("text-xs",s.text.secondary),children:"Next Production Volume Due: March 31"}),e.jsx(g,{size:"sm",variant:"outline",icon:j,onClick:()=>i("productions"),children:"Create Production Set"})]})]})}),e.jsx(n,{title:"Active Integrations",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:t("flex items-center justify-between p-3 border rounded-lg",s.surface.highlight,s.border.default),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:t("h-5 w-5",s.text.secondary)}),e.jsxs("div",{children:[e.jsx("p",{className:t("text-sm font-bold",s.text.primary),children:"Relativity Server"}),e.jsx("p",{className:t("text-xs",s.text.secondary),children:"Sync: 15 mins ago"})]})]}),e.jsx(f,{variant:"success",children:"Connected"})]}),e.jsxs("div",{className:t("flex items-center justify-between p-3 border rounded-lg",s.surface.highlight,s.border.default),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{className:t("h-5 w-5",s.text.secondary)}),e.jsxs("div",{children:[e.jsx("p",{className:t("text-sm font-bold",s.text.primary),children:"Office 365 Purview"}),e.jsx("p",{className:t("text-xs",s.text.secondary),children:"Collection Active"})]})]}),e.jsx(f,{variant:"warning",children:"Ingesting"})]})]})})]})]})};export{Pe as default};
