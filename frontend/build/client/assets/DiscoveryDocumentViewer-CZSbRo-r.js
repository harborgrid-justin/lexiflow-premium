import{j as e,aO as j,a1 as N,r as n,bd as v,F as y,aQ as g,aR as w,cK as D,ae as k,aD as C}from"./vendor-core-V-oW58GW.js";import{B as c}from"./Button-PaGqeZoR.js";import{D as p}from"./dataService-75QCl8KS.js";import{u as f}from"./ThemeContext-OPG61qw5.js";import{c as t}from"./useQueryHooks-BdeOvP9e.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const P=()=>{const{theme:s}=f();return e.jsxs("div",{className:t("w-80 border-l flex flex-col shrink-0 shadow-xl animate-in slide-in-from-right duration-200 z-10",s.surface.default,s.border.default),children:[e.jsx("div",{className:t("p-4 border-b",s.border.default,s.surface.highlight),children:e.jsx("h3",{className:t("font-bold text-sm uppercase tracking-wide",s.text.primary),children:"Coding & Metadata"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:t("block text-xs font-bold uppercase mb-2",s.text.secondary),children:"Review Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:t("flex items-center p-2 border rounded cursor-pointer",s.border.default,`hover:${s.surface.highlight}`),children:[e.jsx("input",{type:"radio",name:"status",className:"mr-2"}),e.jsx("span",{className:s.text.primary,children:"Responsive"})]}),e.jsxs("label",{className:t("flex items-center p-2 border rounded cursor-pointer",s.border.default,`hover:${s.surface.highlight}`),children:[e.jsx("input",{type:"radio",name:"status",className:"mr-2"}),e.jsx("span",{className:s.text.primary,children:"Non-Responsive"})]}),e.jsxs("label",{className:"flex items-center p-2 border rounded hover:bg-amber-50 cursor-pointer bg-amber-50/50 border-amber-200",children:[e.jsx("input",{type:"radio",name:"status",className:"mr-2"}),e.jsx("span",{className:"text-amber-800",children:"Needs Further Review"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:t("block text-xs font-bold uppercase mb-2",s.text.secondary),children:"Privilege"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",id:"priv",className:"rounded text-blue-600"}),e.jsx("label",{htmlFor:"priv",className:t("text-sm font-medium",s.text.primary),children:"Mark as Privileged"})]}),e.jsxs("select",{className:t("w-full text-sm rounded-md p-2 border",s.border.default,s.surface.highlight,s.text.secondary),disabled:!0,children:[e.jsx("option",{children:"Attorney-Client"}),e.jsx("option",{children:"Work Product"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:t("block text-xs font-bold uppercase mb-2",s.text.secondary),children:"Issue Tags"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Damages","Liability","Key Witness","Timeline"].map(r=>e.jsx("span",{className:t("px-2 py-1 rounded text-xs border cursor-pointer transition-colors",s.surface.highlight,s.border.default,s.text.secondary,"hover:bg-blue-50 hover:text-blue-600"),children:r},r)),e.jsx("button",{className:t("px-2 py-1 border border-dashed rounded text-xs hover:text-blue-500",s.border.default,s.text.tertiary),children:"+ Add"})]})]}),e.jsxs("div",{className:t("pt-4 border-t",s.border.default),children:[e.jsx("label",{className:t("block text-xs font-bold uppercase mb-2",s.text.secondary),children:"Notes"}),e.jsx("textarea",{className:t("w-full border rounded-md p-2 text-sm h-24 resize-none focus:ring-2 focus:ring-blue-500 outline-none",s.border.default,s.surface.default,s.text.primary),placeholder:"Reviewer comments..."})]})]}),e.jsxs("div",{className:t("p-4 border-t flex justify-between",s.border.default,s.surface.highlight),children:[e.jsx(c,{variant:"ghost",size:"sm",icon:j,children:"Prev Doc"}),e.jsxs(c,{variant:"primary",size:"sm",children:["Save & Next ",e.jsx(N,{className:"h-4 w-4 ml-1"})]})]})]})},$=({docId:s,onBack:r})=>{const{theme:a}=f(),[d,x]=n.useState({title:"Loading...",content:"",type:"",date:""}),[m,h]=n.useState(100),[l,b]=n.useState(!0);return n.useEffect(()=>{(async()=>{const o=await p.documents.getById(s),u=await p.documents.getContent(s);x(o?{title:o.title,content:u,type:o.type,date:o.uploadDate}:{title:"Document Preview",content:u,type:"Discovery",date:new Date().toLocaleDateString()})})()},[s]),e.jsxs("div",{className:t("flex flex-col h-full animate-fade-in absolute inset-0 z-10",a.background),children:[e.jsxs("div",{className:t("h-14 border-b flex justify-between items-center px-4 shrink-0 shadow-md z-20",a.surface.default,a.border.default),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:r,className:t("p-2 rounded-full transition-colors",a.text.secondary,`hover:${a.surface.highlight}`),"aria-label":"Go back",children:e.jsx(v,{className:"h-5 w-5"})}),e.jsx("div",{className:t("h-6 w-px",a.border.default)}),e.jsxs("div",{children:[e.jsxs("h2",{className:t("text-sm font-bold flex items-center",a.text.primary),children:[e.jsx(y,{className:"h-4 w-4 mr-2 text-blue-400"}),d.title]}),e.jsxs("p",{className:t("text-[10px] font-mono",a.text.secondary),children:["ID: ",s," â€¢ ",d.date]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:t("hidden md:flex items-center rounded px-2 py-1 mr-2 border",a.surface.highlight,a.border.default),children:[e.jsx("button",{onClick:()=>h(i=>Math.max(50,i-10)),className:t("p-1 hover:text-blue-400",a.text.secondary),"aria-label":"Zoom out",children:e.jsx(g,{className:"h-4 w-4"})}),e.jsxs("span",{className:t("text-xs font-mono w-12 text-center select-none",a.text.primary),children:[m,"%"]}),e.jsx("button",{onClick:()=>h(i=>Math.min(200,i+10)),className:t("p-1 hover:text-blue-400",a.text.secondary),"aria-label":"Zoom in",children:e.jsx(w,{className:"h-4 w-4"})})]}),e.jsx(c,{size:"sm",variant:"secondary",icon:D,children:"Print"}),e.jsx(c,{size:"sm",variant:"primary",icon:k,children:"Download"}),e.jsx("button",{onClick:()=>b(!l),className:t("ml-2 p-2 rounded transition-colors",l?"bg-blue-600 text-white":t(a.surface.highlight,a.text.secondary,`hover:${a.text.primary}`)),"aria-label":l?"Hide coding panel":"Show coding panel",children:e.jsx(C,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx("div",{className:t("flex-1 overflow-auto relative flex justify-center p-8",a.surface.highlight),children:e.jsxs("div",{className:t("shadow-2xl min-h-[1100px] w-full max-w-4xl transition-transform origin-top duration-200 ease-out",a.surface.default),style:{transform:`scale(${m/100})`},children:[e.jsxs("div",{className:t("h-16 border-b-2 mb-8 mx-12 mt-12 flex justify-between items-end pb-2 opacity-80",a.border.default),children:[e.jsx("span",{className:t("font-serif font-bold text-2xl uppercase",a.text.primary),children:"Legal Document"}),e.jsx("span",{className:t("font-mono text-sm",a.text.secondary),children:s})]}),e.jsx("div",{className:t("px-16 py-4 font-serif text-sm leading-loose whitespace-pre-wrap select-text",a.text.primary),children:d.content}),e.jsxs("div",{className:t("mt-20 mx-12 border-t pt-4 flex justify-between text-xs font-mono",a.border.default,a.text.tertiary),children:[e.jsx("span",{children:"CONFIDENTIAL - ATTORNEY EYES ONLY"}),e.jsx("span",{children:"Page 1 of 1"})]})]})}),l&&e.jsx(P,{})]})]})};export{$ as DiscoveryDocumentViewer,$ as default};
