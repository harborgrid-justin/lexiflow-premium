import{j as e,bt as j,al as f,F as g,cp as y,ae as w}from"./vendor-core-V-oW58GW.js";import{u as v,d as N,c as i}from"./useQueryHooks-BdeOvP9e.js";import{D as m}from"./dataService-75QCl8KS.js";import{u as b}from"./useNotify-Bhb3OIEg.js";import{u as D}from"./ThemeContext-OPG61qw5.js";import{a as P}from"./SyncContext-DYD5yPAv.js";import{T as S,a as T,b as r,c as C,d as l,e as o}from"./Table-C8OsWLsz.js";import{B as k}from"./Badge-B08w10nz.js";import{B as a}from"./Button-PaGqeZoR.js";import{DiscoveryProduction as B}from"./DiscoveryProduction-W8-aaZ6R.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";import"./Card-D56KNEnI.js";import"./case-detail-CN_DMmR8.js";import"./schemas-B2_dy3tf.js";import"./VirtualList-B1zORm91.js";import"./AppShell-Z1zGEOCG.js";import"./tabs.config-F85gN5xx.js";import"./PageHeader-os9pD5mt.js";import"./formatters-stMuSkc6.js";import"./EmptyState-BwtZeBY5.js";import"./dateUtils-rLIRMrtk.js";import"./MetricCard-CDV5joW_.js";import"./queryKeys-BBVgMz36.js";import"./useSessionStorage-HC9RvMcM.js";import"./ErrorState-BA0dmAVI.js";import"./ConfirmDialog-CTAXMvML.js";import"./Modal-BlJFylOy.js";import"./Kanban-BbECSZhC.js";import"./FilterPanel-C0WYx6xs.js";import"./AdaptiveLoader-gvY3s3Bs.js";import"./UserAvatar-lVqVFNPb.js";import"./Tabs-BTz8yyZK.js";import"./Input-JNgj1Ekc.js";import"./TextArea-BMpffac7.js";import"./geminiService-DjDdWyh4.js";import"./TaskCreationModal-B2VECu1_.js";import"./search.config-B6mvIgDA.js";import"./useToggle-CjLp2PQ4.js";import"./sanitize-k_Tw3ej1.js";import"./useModalState-Cst_3NmK.js";import"./scheduler-BERajRBE.js";import"./RouteErrorBoundary-Nha8Il06.js";import"./meta-utils-lVs9HXG9.js";import"./queryKeys-Dex4MaB7.js";import"./discoverySchemas-nx9p4LOg.js";const Se=()=>{const{theme:s}=D(),n=b(),{openWindow:d,closeWindow:p}=P(),{data:c=[]}=v(["discovery-productions","all"],()=>m.discovery.getProductions()),{mutate:x,isLoading:z}=N(m.discovery.downloadProduction,{onSuccess:t=>{window.open(t,"_blank"),n.success("Download started.")}}),u=t=>{n.info(`Secure link generated for production ${t}`)},h=()=>{const t=`prod-wizard-${Date.now()}`;d(t,"Production Wizard",e.jsx(B,{request:null,onBack:()=>p(t)}))};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:i("flex justify-between items-center p-4 rounded-lg border shadow-sm",s.surface.default,s.border.default),children:[e.jsxs("div",{children:[e.jsxs("h3",{className:i("font-bold flex items-center",s.text.primary),children:[e.jsx(j,{className:"h-5 w-5 mr-2 text-green-600"})," Production History"]}),e.jsx("p",{className:i("text-sm",s.text.secondary),children:"Log of all outgoing document volumes."})]}),e.jsx(a,{variant:"primary",icon:f,onClick:h,children:"Create Production"})]}),e.jsxs(S,{children:[e.jsxs(T,{children:[e.jsx(r,{children:"Volume Name"}),e.jsx(r,{children:"Date"}),e.jsx(r,{children:"Bates Range"}),e.jsx(r,{children:"Size"}),e.jsx(r,{children:"Format"}),e.jsx(r,{children:"Status"}),e.jsx(r,{className:"text-right",children:"Action"})]}),e.jsxs(C,{children:[c.map(t=>e.jsxs(l,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:i("h-4 w-4 mr-2",s.text.tertiary)}),e.jsx("span",{className:i("font-medium",s.text.primary),children:t.name})]})}),e.jsx(o,{children:t.date}),e.jsx(o,{children:e.jsx("span",{className:i("font-mono text-xs px-1.5 py-0.5 rounded border",s.surface.highlight,s.border.default),children:t.batesRange})}),e.jsxs(o,{className:i("text-xs",s.text.secondary),children:[t.docCount," docs (",t.size,")"]}),e.jsx(o,{children:t.format}),e.jsx(o,{children:e.jsx(k,{variant:t.status==="Delivered"?"success":t.status==="Staging"?"warning":"neutral",children:t.status})}),e.jsx(o,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(a,{size:"sm",variant:"ghost",icon:y,onClick:()=>u(t.id),children:"Share"}),e.jsx(a,{size:"sm",variant:"outline",icon:w,onClick:()=>x(t.id),children:"Download"})]})})]},t.id)),c.length===0&&e.jsx(l,{children:e.jsx(o,{colSpan:7,className:i("text-center py-8 italic",s.text.tertiary),children:"No productions logged yet."})})]})]})]})};export{Se as DiscoveryProductions,Se as default};
