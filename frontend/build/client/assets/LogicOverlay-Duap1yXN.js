import{r as y,j as s,bF as b,a2 as k,p as j,v as A}from"./vendor-core-V-oW58GW.js";import{u as C}from"./ThemeContext-OPG61qw5.js";import{c as t}from"./useQueryHooks-Oyt-TMLP.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";const T=({document:r})=>{const{theme:a}=C(),u=y.useMemo(()=>r.sections.map((e,c)=>{let i="fact";const o=e.type?.toLowerCase()||"",m=e.content?.toLowerCase()||"";o.includes("heading")||o.includes("caption")?i="claim":m.includes("exhibit")||m.includes("evidence")||e.linkedEvidenceIds?.length?i="evidence":m.includes("pursuant to")||m.includes("rule ")||e.linkedArgumentId?i="legal":(o.includes("signature")||o.includes("certificate"))&&(i="conclusion");const h=e.content?.length||0,v=/\d+\s+[A-Z][a-z]+\.?\s+\d+/.test(e.content||""),p=(e.linkedEvidenceIds?.length||0)>0,g=!!e.linkedArgumentId,w=h>500&&v||p&&g?"strong":h>200||p||g?"medium":"weak",l=[];if(c<r.sections.length-1&&l.push(r.sections[c+1].id),e.linkedEvidenceIds?.length&&e.linkedEvidenceIds.forEach(n=>{const d=r.sections.find(f=>f.content?.includes(n)||f.id===n);d&&!l.includes(d.id)&&l.push(d.id)}),e.linkedArgumentId){const n=r.sections.find(d=>d.id===e.linkedArgumentId);n&&!l.includes(n.id)&&l.push(n.id)}return{id:e.id,title:e.type||`Section ${c+1}`,type:i,connections:l,strength:w}}),[r.sections]),x=e=>{switch(e){case"claim":return"bg-purple-100 border-purple-300 text-purple-700";case"fact":return"bg-blue-100 border-blue-300 text-blue-700";case"evidence":return"bg-emerald-100 border-emerald-300 text-emerald-700";case"legal":return"bg-amber-100 border-amber-300 text-amber-700";case"conclusion":return"bg-rose-100 border-rose-300 text-rose-700";default:return"bg-slate-100 border-slate-300 text-slate-700"}},N=e=>{switch(e){case"strong":return s.jsx(A,{className:"h-3 w-3 text-emerald-500"});case"medium":return s.jsx(j,{className:"h-3 w-3 text-amber-500"});case"weak":return s.jsx(j,{className:"h-3 w-3 text-rose-500"})}};return u.length===0?s.jsx("div",{className:t("absolute inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center","animate-fade-in"),children:s.jsxs("div",{className:t("text-center p-8 rounded-lg",a.surface.overlay),children:[s.jsx(b,{className:"h-12 w-12 mx-auto mb-4 text-slate-400"}),s.jsx("h3",{className:t("font-bold mb-2",a.text.primary),children:"No Sections to Analyze"}),s.jsx("p",{className:t("text-sm",a.text.secondary),children:"Add content to see the logic flow."})]})}):s.jsx("div",{className:t("absolute inset-0 bg-slate-900/80 backdrop-blur-sm overflow-auto p-8","animate-fade-in"),children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:t("mb-6 p-4 rounded-lg",a.surface.overlay),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(b,{className:"h-5 w-5 text-blue-500"}),s.jsx("h3",{className:t("font-bold",a.text.primary),children:"Argument Logic Flow"})]}),s.jsx("p",{className:t("text-sm",a.text.secondary),children:"Visual representation of how your arguments connect and build upon each other."})]}),s.jsx("div",{className:"space-y-4",children:u.map((e,c)=>s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:t("flex-1 p-4 rounded-lg border-2 transition-all hover:shadow-lg",x(e.type)),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:e.type}),s.jsxs("div",{className:"flex items-center gap-1",children:[N(e.strength),s.jsx("span",{className:"text-[10px] capitalize",children:e.strength})]})]}),s.jsx("h4",{className:"font-semibold",children:e.title})]}),c<u.length-1&&s.jsx("div",{className:"flex flex-col items-center pt-4",children:s.jsx(k,{className:"h-5 w-5 text-slate-400 rotate-90"})})]},e.id))}),s.jsxs("div",{className:t("mt-8 p-4 rounded-lg",a.surface.overlay),children:[s.jsx("h4",{className:t("text-xs font-bold uppercase mb-3",a.text.secondary),children:"Legend"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:["claim","fact","evidence","legal","conclusion"].map(e=>s.jsx("div",{className:t("px-2 py-1 rounded text-xs font-medium border",x(e)),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})})};export{T as LogicOverlay,T as default};
