import{j as e,bf as m,aj as h,cA as p,a2 as g}from"./vendor-core-V-oW58GW.js";import{u as l,c as a}from"./useQueryHooks-BdeOvP9e.js";import{D as d}from"./dataService-75QCl8KS.js";import{u}from"./ThemeContext-OPG61qw5.js";import{C as n}from"./Card-D56KNEnI.js";import{R as j,B as f,X as b,Y as v,T as N,a as y,b as w}from"./vendor-charts-KZIdMATq.js";import"./vendor-misc-Dwkhvdtg.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const P=()=>{const{theme:t}=u(),{data:i=[]}=l(["marketing","metrics"],d.marketing.getMetrics),{data:o=[]}=l(["marketing","campaigns"],d.marketing.getCampaigns),c=i.reduce((s,r)=>s+r.revenue,0),x=i.length>0?i.reduce((s,r)=>s+r.conversions/r.leads,0)/i.length*100:0;return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg p-6 text-white shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-100 text-xs font-bold uppercase",children:"Pipeline Value"}),e.jsxs("p",{className:"text-3xl font-bold mt-1",children:["$",(c/1e3).toFixed(1),"M"]})]}),e.jsx(m,{className:"h-8 w-8 text-white opacity-20"})]}),e.jsx("p",{className:"text-xs text-indigo-100 mt-4",children:"Potential revenue from tracked leads."})]}),e.jsxs("div",{className:a("rounded-lg p-6 border shadow-sm",t.surface.default,t.border.default),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:a("text-xs font-bold uppercase",t.text.secondary),children:"Avg Conversion Rate"}),e.jsxs("p",{className:a("text-3xl font-bold mt-1",t.text.primary),children:[x.toFixed(1),"%"]})]}),e.jsx(h,{className:"h-8 w-8 text-blue-500 opacity-20"})]}),e.jsx("p",{className:"text-xs text-green-600 mt-4 font-bold",children:"â†‘ 2.1% from last month"})]}),e.jsxs("div",{className:a("rounded-lg p-6 border shadow-sm",t.surface.default,t.border.default),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:a("text-xs font-bold uppercase",t.text.secondary),children:"Cost Per Acquisition"}),e.jsx("p",{className:a("text-3xl font-bold mt-1",t.text.primary),children:"$450"})]}),e.jsx(p,{className:"h-8 w-8 text-amber-500 opacity-20"})]}),e.jsx("p",{className:a("text-xs mt-4",t.text.secondary),children:"Based on ad spend vs retained matters"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(n,{title:"Revenue by Lead Source",children:e.jsx("div",{className:"h-64",children:e.jsx(j,{width:"100%",height:"100%",children:e.jsxs(f,{data:i,layout:"vertical",margin:{left:20},children:[e.jsx(b,{type:"number",hide:!0}),e.jsx(v,{dataKey:"source",type:"category",width:100,tick:{fontSize:11,fill:"#94a3b8"}}),e.jsx(N,{cursor:{fill:"transparent"},formatter:s=>s!==void 0?`$${s.toLocaleString()}`:"$0",contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(y,{dataKey:"revenue",radius:[0,4,4,0],children:i.map((s,r)=>e.jsx(w,{fill:["#3b82f6","#8b5cf6","#10b981","#f59e0b"][r%4]},`revenue-cell-${s.source||r}`))})]})})})}),e.jsx(n,{title:"Active Marketing Campaigns",children:e.jsxs("div",{className:"space-y-4",children:[o.map(s=>e.jsxs("div",{className:a("p-3 border rounded-lg flex justify-between items-center transition-colors",s.status==="Upcoming"?"opacity-70":"",t.surface.highlight,t.border.default),children:[e.jsxs("div",{children:[e.jsx("h4",{className:a("font-bold text-sm",t.text.primary),children:s.name}),e.jsxs("p",{className:a("text-xs",t.text.secondary),children:["Target: ",s.target]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:a("text-xs px-2 py-1 rounded font-bold mb-1 block",s.status==="Active"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"),children:s.status}),e.jsx("span",{className:"text-[10px] text-slate-500",children:s.budget||s.dates})]})]},s.id)),e.jsxs("button",{className:"w-full text-xs text-blue-600 font-medium hover:underline flex items-center justify-center mt-2",children:["View All Campaigns ",e.jsx(g,{className:"h-3 w-3 ml-1"})]})]})})]})]})};export{P as MarketingDashboard};
