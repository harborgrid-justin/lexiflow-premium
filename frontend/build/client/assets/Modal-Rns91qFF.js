import{r as l,l as N,j as t,X as S,a as z}from"./vendor-core-V-oW58GW.js";import{u as R,t as D}from"./ThemeContext-OPG61qw5.js";import"./dataService-BWLMkXM4.js";import{c as o}from"./useQueryHooks-Oyt-TMLP.js";import"./SyncContext-B5_p5hCg.js";const c=new Set;function L(){document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"}function M(){document.documentElement.style.overflow="",document.body.style.overflow=""}function T(r,a){l.useEffect(()=>(a&&(c.size===0&&L(),c.add(r)),()=>{a&&(c.delete(r),c.size===0&&M())}),[a,r])}function I({isOpen:r,onClose:a,title:b,children:h,size:p="md",className:y="",footer:m,closeOnBackdrop:v=!0}){const[w,k]=l.useState(!1),{theme:e}=R(),i=N.useId(),d=l.useRef(null);T(i,r),l.useEffect(()=>{k(!0)},[]),l.useEffect(()=>{if(!r||!d.current)return;const u=d.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),s=u[0],f=u[u.length-1],x=n=>{n.key==="Tab"&&(n.shiftKey?document.activeElement===s&&(n.preventDefault(),f.focus()):document.activeElement===f&&(n.preventDefault(),s.focus())),n.key==="Escape"&&a()};return s&&s.focus(),document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r,a]);const E=()=>{v&&a()};if(!r||!w||typeof document>"u"||!document.body)return null;const g={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-5xl",full:"max-w-[95vw] h-[90vh]"},j=t.jsxs("div",{className:o("fixed inset-0 flex items-center justify-center p-4 sm:p-6",D.zIndex.modal),"aria-labelledby":i,role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:o("absolute inset-0 backdrop-blur-sm transition-opacity animate-in fade-in duration-200",e.backdrop),"aria-hidden":"true",onClick:E}),t.jsxs("div",{ref:d,className:o("relative z-10 flex flex-col w-full mx-auto transform transition-all animate-in zoom-in-95 duration-200 border shadow-2xl rounded-xl",e.surface.default,e.border.default,g[p],"max-h-[calc(100dvh-3rem)]",y),children:[t.jsxs("div",{className:o("flex items-center justify-between px-6 py-4 border-b shrink-0",e.surface.default,e.border.default),children:[t.jsx("h3",{className:o("text-lg font-bold leading-6 tracking-tight",e.text.primary),id:i,children:b}),t.jsx("button",{type:"button",className:o("rounded-full p-2 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",e.text.tertiary,`hover:${e.text.secondary}`,`hover:${e.surface.highlight}`),onClick:a,"aria-label":"Close",children:t.jsx(S,{className:"h-5 w-5","aria-hidden":"true"})})]}),t.jsx("div",{className:o("flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700 scrollbar-track-transparent",e.text.primary),children:h}),m&&t.jsx("div",{className:o("px-6 py-4 border-t flex justify-end gap-3 shrink-0 bg-slate-50/50 rounded-b-xl",e.border.default),children:m})]})]});return z.createPortal(j,document.body)}export{I as M};
