import{r as d,j as e,bd as w,T as C,ac as S,bb as R,ax as D,bh as f}from"./vendor-core-V-oW58GW.js";import{C as u}from"./Card-CDOiP5UM.js";import{B as a}from"./Button-CDQlLg6j.js";import{B as M}from"./Badge-bF-hTHJZ.js";import{u as B}from"./ThemeContext-OPG61qw5.js";import{c as r}from"./useQueryHooks-Oyt-TMLP.js";import{s as k}from"./sanitize-k_Tw3ej1.js";import{G}from"./geminiService-_CYFbtO8.js";import{u as T}from"./useNotify-DdRjm5G5.js";import{p as $}from"./case-detail-q84K17Pa.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./schemas-B2_dy3tf.js";import"./dataService-BWLMkXM4.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";import"./SyncContext-B5_p5hCg.js";import"./VirtualList-r2WXvtCD.js";import"./AppShell-Cug-APl3.js";import"./tabs.config-D59pmwVC.js";import"./PageHeader-C4TFe3Td.js";import"./formatters-stMuSkc6.js";import"./Table-C_bcd1kC.js";import"./EmptyState-7A4cJUVU.js";import"./MetricCard-BH_9X7pi.js";import"./queryKeys-BBVgMz36.js";import"./useSessionStorage-D_292xEY.js";import"./ErrorState-WL3az5ve.js";import"./ConfirmDialog--jvbqDAw.js";import"./Modal-Rns91qFF.js";import"./Kanban-BI78PbzY.js";import"./dateUtils-rLIRMrtk.js";import"./FilterPanel-BteidCPx.js";import"./AdaptiveLoader-D5wOoiN1.js";import"./UserAvatar-BPVf-Spq.js";import"./Tabs-7xONCRTX.js";import"./Input-Dmln04Yk.js";import"./TextArea-DrtcCAyn.js";import"./TaskCreationModal-D5xiqN6m.js";import"./search.config-B6mvIgDA.js";import"./useToggle-CjLp2PQ4.js";import"./useModalState-Cst_3NmK.js";import"./scheduler-BERajRBE.js";import"./RouteErrorBoundary-Nha8Il06.js";import"./meta-utils-lVs9HXG9.js";const Se=({requests:x,onCancel:h})=>{const{theme:t}=B(),j=T(),v=x.filter(s=>s.status==="Overdue"||s.status==="Responded"),i=$([],(s,l)=>s.id===l.id),[o,g]=d.useState(""),[m,b]=d.useState(""),[n,p]=d.useState(!1),y=async()=>{if(i.selected.length===0||!o){j.error("Select at least one deficient request and enter meet & confer date.");return}p(!0);const s=i.selected.map(c=>`${c.id}: ${c.title} (${c.type})`).join(`
`),l=`Draft a Motion to Compel Discovery pursuant to FRCP Rule 37(a).
      The moving party certifies they have conferred in good faith with opposing counsel on ${o} but were unable to obtain the disclosure/discovery without court action.

      Deficient Requests:
      ${s}

      Structure:
      1. Certification of Meet and Confer (Rule 37(a)(1))
      2. Argument for Relevancy and Proportionality
      3. Failure to Respond/Insufficient Response
      4. Prayer for Relief (Order Compelling + Sanctions Rule 37(a)(5)(A))`,N=await G.generateDraft(l,"Motion to Compel");b(N),p(!1)};return e.jsxs("div",{className:"flex h-full flex-col animate-fade-in",children:[e.jsxs("div",{className:r("p-6 border-b flex justify-between items-center",t.border.default),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(a,{variant:"ghost",icon:w,onClick:h,children:"Back"}),e.jsxs("div",{children:[e.jsx("h3",{className:r("text-xl font-bold",t.text.primary),children:"Motion to Compel Builder"}),e.jsx("p",{className:r("text-sm",t.text.secondary),children:"FRCP Rule 37(a) Enforcement Workflow"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:r("flex items-center gap-2 px-3 py-1 rounded border text-xs font-bold",t.status.error.bg,t.status.error.text,t.status.error.border),children:[e.jsx(C,{className:"h-4 w-4"})," Sanctions Available"]})})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:r("w-96 border-r p-6 overflow-y-auto space-y-6",t.surface.highlight,t.border.default),children:[e.jsx(u,{title:"1. Select Deficient Requests",children:e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:v.map(s=>e.jsx("div",{onClick:()=>i.toggle(s),className:r("p-3 rounded border cursor-pointer transition-all",i.isSelected(s)?r(t.status.error.bg,t.status.error.border):r(t.surface.default,t.border.default)),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:r("mt-0.5",i.isSelected(s)?t.status.error.text:t.text.tertiary),children:e.jsx(S,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:r("text-xs font-bold",t.text.primary),children:s.title}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("span",{className:"text-[10px] text-slate-500",children:s.id}),e.jsx(M,{variant:s.status==="Overdue"?"error":"warning",children:s.status})]})]})]})},s.id))})}),e.jsx(u,{title:"2. Meet & Confer Certification",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:r("text-xs",t.text.secondary),children:"Rule 37(a)(1) requires certification of good faith effort to resolve without court action."}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:r("text-xs font-bold",t.text.primary),children:"Conference Date"}),e.jsx("input",{type:"date",title:"Select meet and confer date",className:r("w-full p-2 border rounded text-sm",t.surface.default,t.border.default,t.text.primary),value:o,onChange:s=>g(s.target.value)})]}),e.jsx(a,{size:"sm",variant:"outline",icon:R,children:"View Conferral Log"})]})}),e.jsx(a,{variant:"primary",className:r("w-full",t.status.error.bg,t.status.error.border,t.status.error.text,`hover:${t.status.error.bg}`),icon:n?void 0:D,disabled:n,onClick:y,children:n?"Drafting Motion...":"Generate Motion"})]}),e.jsx("div",{className:r("flex-1 p-8 overflow-y-auto",t.surface.highlight),children:m?e.jsxs("div",{className:r("max-w-3xl mx-auto shadow-lg p-10 min-h-[800px] border",t.surface.default,t.border.default),children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:k(m)},className:r("prose max-w-none font-serif text-sm leading-loose",t.text.primary)}),e.jsxs("div",{className:r("mt-8 pt-8 border-t flex justify-end gap-3",t.border.default),children:[e.jsx(a,{variant:"secondary",children:"Save as Draft"}),e.jsx(a,{variant:"primary",icon:f,children:"File with Court"})]})]}):e.jsxs("div",{className:r("flex flex-col items-center justify-center h-full",t.text.tertiary),children:[e.jsx(f,{className:"h-16 w-16 mb-4 opacity-20"}),e.jsx("p",{className:"font-medium",children:"Configure options to generate motion."}),e.jsx("p",{className:"text-sm mt-2 max-w-xs text-center",children:"Ensures compliance with FRCP 37 requirements including certification of conferral."})]})})]})]})};export{Se as MotionToCompelBuilder,Se as default};
