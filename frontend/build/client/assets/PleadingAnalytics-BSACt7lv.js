import{r as f,j as e,F as v,v as C,t as b,q as T}from"./vendor-core-V-oW58GW.js";import{u as N}from"./useQueryHooks-BdeOvP9e.js";import{u as D}from"./ThemeContext-OPG61qw5.js";import{C as i}from"./Card-D56KNEnI.js";import{M as l}from"./MetricCard-CDV5joW_.js";import{D as P}from"./dataService-75QCl8KS.js";import{ChartColorService as r}from"./chartColorService-Dq1XQNFk.js";import{R as c,f as B,C as m,X as u,Y as h,T as d,h as M,B as R,a as k,P as S,c as w,b as A}from"./vendor-charts-KZIdMATq.js";import"./vendor-misc-Dwkhvdtg.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const O=()=>{const{theme:x,mode:t}=D(),{data:n=[]}=N(["pleadings","all"],()=>P.pleadings.getAll()),s=f.useMemo(()=>{const a=n.filter(j=>j.status==="Filed").length,o=n.length,g=o>0?Math.round(a/o*100):0,p=3.5,y=[{name:"Jurisdiction",count:45,color:r.getColorByIndex(0,t)},{name:"Summary Judgment",count:32,color:r.getColorByIndex(1,t)},{name:"Discovery",count:28,color:r.getColorByIndex(2,t)},{name:"Damages",count:25,color:r.getColorByIndex(3,t)},{name:"Relief Sought",count:42,color:r.getColorByIndex(4,t)}];return{successRate:g,avgDraftingTime:p,totalPleadings:o,filedPleadings:a,clauseUsage:y,monthlyTrend:[{month:"Jan",count:12},{month:"Feb",count:15},{month:"Mar",count:18},{month:"Apr",count:14},{month:"May",count:22},{month:"Jun",count:19}],motionTypes:[{type:"Summary Judgment",count:18},{type:"Dismiss",count:15},{type:"Compel",count:12},{type:"Protective Order",count:8},{type:"Extension",count:7}]}},[n,t]);return e.jsxs("div",{className:"h-full overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(l,{label:"Total Pleadings",value:s.totalPleadings,icon:v,className:"border-l-4 border-l-blue-600"}),e.jsx(l,{label:"Filed",value:s.filedPleadings,icon:C,className:"border-l-4 border-l-emerald-500"}),e.jsx(l,{label:"Success Rate",value:`${s.successRate}%`,icon:b,className:"border-l-4 border-l-purple-600"}),e.jsx(l,{label:"Avg. Draft Time",value:`${s.avgDraftingTime}d`,icon:T,className:"border-l-4 border-l-amber-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(i,{title:"Monthly Pleading Volume",children:e.jsx("div",{className:"h-64",children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(B,{data:s.monthlyTrend,children:[e.jsx(m,{strokeDasharray:"3 3"}),e.jsx(u,{dataKey:"month"}),e.jsx(h,{}),e.jsx(d,{}),e.jsx(M,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2})]})})})}),e.jsx(i,{title:"Motion Type Distribution",children:e.jsx("div",{className:"h-64",children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(R,{data:s.motionTypes,children:[e.jsx(m,{strokeDasharray:"3 3"}),e.jsx(u,{dataKey:"type",fontSize:10}),e.jsx(h,{}),e.jsx(d,{}),e.jsx(k,{dataKey:"count",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})})]}),e.jsx(i,{title:"Most Used Clauses",children:e.jsxs("div",{className:"h-72",children:[e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(S,{children:[e.jsx(w,{data:s.clauseUsage,dataKey:"count",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:s.clauseUsage.map((a,o)=>e.jsx(A,{fill:a.color},`clause-${a.name}-${o}`))}),e.jsx(d,{})]})}),e.jsx("div",{className:"flex justify-center gap-4 mt-4 flex-wrap",children:s.clauseUsage.map(a=>e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),e.jsx("span",{className:x.text.secondary,children:a.name})]},a.name))})]})})]})};export{O as PleadingAnalytics};
