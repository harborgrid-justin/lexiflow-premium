import{j as e,cN as d,T as y,q as x,u as N,v}from"./vendor-core-V-oW58GW.js";import{u as w}from"./useNotify-DdRjm5G5.js";import{u as F,d as b,c as o}from"./useQueryHooks-Oyt-TMLP.js";import{u as C}from"./ThemeContext-OPG61qw5.js";import{B as a}from"./Badge-bF-hTHJZ.js";import{B as u}from"./Button-CDQlLg6j.js";import{E as S}from"./EmptyState-7A4cJUVU.js";import{T,a as B,d as f,b as r,c as k,e as l}from"./Table-C_bcd1kC.js";import{D as h}from"./dataService-BWLMkXM4.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./SyncContext-B5_p5hCg.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const G=()=>{const{theme:n}=C(),t=w(),{data:c=[]}=F(["pleadings","filing-queue"],async()=>(await h.pleadings.getAll()).filter(i=>i.status==="Final"||i.status==="Filed")),{mutate:m}=b(async s=>{if(!c.find(p=>p.id===s))throw new Error("Pleading not found");return h.pleadings.update(s,{status:"Filed"})},{invalidateKeys:[["pleadings"]],onSuccess:()=>t.success("Filing submitted successfully"),onError:()=>t.error("Failed to submit filing")}),j=s=>s.status==="Filed"?"filed":s.filingStatus?s.filingStatus:"pending",g=s=>{switch(s){case"filed":return e.jsxs(a,{variant:"success",children:[e.jsx(v,{className:"w-3 h-3 inline mr-1"}),"Filed"]});case"pending":return e.jsxs(a,{variant:"warning",children:[e.jsx(x,{className:"w-3 h-3 inline mr-1"}),"Pending"]});case"failed":return e.jsxs(a,{variant:"error",children:[e.jsx(N,{className:"w-3 h-3 inline mr-1"}),"Failed"]});case"scheduled":return e.jsxs(a,{variant:"info",children:[e.jsx(x,{className:"w-3 h-3 inline mr-1"}),"Scheduled"]});default:return e.jsx(a,{variant:"neutral",children:"Unknown"})}};return c.length===0?e.jsx("div",{className:"h-full flex items-center justify-center p-8",children:e.jsx(S,{icon:d,title:"Filing Queue is Empty",description:"Finalized pleadings ready for e-filing will appear here."})}):e.jsxs("div",{className:"flex flex-col h-full p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:o("text-2xl font-bold",n.text.primary),children:"E-Filing Queue"}),e.jsxs("p",{className:o("text-sm",n.text.secondary),children:[c.length," pleading(s) ready for filing"]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(u,{variant:"primary",icon:d,onClick:()=>t.info("Batch filing feature coming soon"),children:"Submit All"})})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs(T,{children:[e.jsx(B,{children:e.jsxs(f,{children:[e.jsx(r,{children:"Document"}),e.jsx(r,{children:"Case"}),e.jsx(r,{children:"Court"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Actions"})]})}),e.jsx(k,{children:c.map(s=>{const i=j(s);return e.jsxs(f,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:o("h-4 w-4",n.text.secondary)}),e.jsx("span",{className:o("font-medium",n.text.primary),children:s.title})]})}),e.jsx(l,{className:n.text.secondary,children:s.caseId||"N/A"}),e.jsx(l,{className:n.text.secondary,children:s.court||"Not specified"}),e.jsx(l,{children:g(i)}),e.jsx(l,{children:e.jsxs("div",{className:"flex gap-2",children:[i==="pending"&&e.jsx(u,{size:"sm",variant:"primary",icon:d,onClick:()=>m(s.id),children:"File Now"}),i==="filed"&&e.jsx(u,{size:"sm",variant:"ghost",onClick:()=>t.info("View filing confirmation"),children:"View Confirmation"}),i==="failed"&&e.jsx(u,{size:"sm",variant:"danger",icon:y,onClick:()=>m(s.id),children:"Retry"})]})})]},s.id)})})]})})]})};export{G as PleadingFilingQueue};
