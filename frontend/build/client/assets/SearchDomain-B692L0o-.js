import{a}from"./useQueryHooks-BdeOvP9e.js";import"./vendor-core-V-oW58GW.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";const t="lexiflow_recent_searches",o=10,n={getAll:async()=>[],getById:async()=>null,add:async e=>e,update:async e=>e,delete:async()=>!0,search:async(e,r)=>{try{const c={q:e};return r?.types&&(c.types=r.types.join(",")),r?.caseId&&(c.caseId=r.caseId),await a.get("/search",c)}catch(c){console.error("[SearchService.search] Backend error:",c)}return console.warn("[SearchService] Backend search unavailable, returning empty results"),[]},searchGlobal:async e=>n.search(e),getRecentSearches:async()=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch{return[]}},saveSearch:async e=>{try{const r=await n.getRecentSearches(),c=[e,...r.filter(s=>s!==e)].slice(0,o);return localStorage.setItem(t,JSON.stringify(c)),!0}catch{return!1}},indexDocument:async e=>{try{return await a.post(`/search/index/document/${e}`,{}),console.log(`[SearchService] Document ${e} indexed successfully`),!0}catch(r){return console.error("[SearchService.indexDocument] Backend error:",r),!1}return console.warn("[SearchService] Backend indexing unavailable"),!1}};export{n as SearchService};
