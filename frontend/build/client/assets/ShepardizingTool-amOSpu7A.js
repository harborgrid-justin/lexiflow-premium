import{r as o,j as e,V as g,ab as j,v as N,u as y,T as v,cs as b}from"./vendor-core-V-oW58GW.js";import{B as c}from"./Badge-bF-hTHJZ.js";import{B as C}from"./Button-CDQlLg6j.js";import{C as d}from"./Card-CDOiP5UM.js";import{u as w}from"./ThemeContext-OPG61qw5.js";import{G as S}from"./geminiService-_CYFbtO8.js";import{c as a}from"./useQueryHooks-Oyt-TMLP.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./schemas-B2_dy3tf.js";import"./dataService-BWLMkXM4.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const I=()=>{const{theme:t}=w(),[l,h]=o.useState(""),[n,m]=o.useState(!1),[r,x]=o.useState(null),u=async()=>{if(!l)return;m(!0),x(null);const s=await S.shepardizeCitation(l);x(s),m(!1)},p=s=>{switch(s){case"Followed":return e.jsx(c,{variant:"success",children:s});case"Distinguished":case"Questioned":return e.jsx(c,{variant:"warning",children:s});case"Criticized":return e.jsx(c,{variant:"error",children:s});default:return e.jsx(c,{variant:"neutral",children:s})}},f=s=>{const i=s.toLowerCase();return i.includes("affirm")?e.jsx(N,{className:"h-4 w-4 text-green-500"}):i.includes("revers")||i.includes("vacat")?e.jsx(y,{className:"h-4 w-4 text-red-500"}):i.includes("appeal")?e.jsx(v,{className:"h-4 w-4 text-amber-500"}):e.jsx(b,{className:"h-4 w-4 text-slate-400"})};return e.jsxs("div",{className:"space-y-6 animate-fade-in max-w-5xl mx-auto",children:[e.jsxs("div",{className:a("p-6 rounded-lg border flex flex-col md:flex-row gap-4 items-center",t.surface.default,t.border.default),children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("h3",{className:a("font-bold text-lg flex items-center",t.text.primary),children:[e.jsx(g,{className:"h-5 w-5 mr-2 text-blue-600"})," Citation Analysis"]}),e.jsx("p",{className:a("text-sm",t.text.secondary),children:"Check appellate history and treatment of a case citation."})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[e.jsx("input",{value:l,onChange:s=>h(s.target.value),onKeyDown:s=>s.key==="Enter"&&u(),placeholder:"e.g., 410 U.S. 113",className:a("flex-1 p-2 border rounded-md text-sm font-mono",t.surface.highlight,t.border.default)}),e.jsx(C,{onClick:u,isLoading:n,disabled:!l||n,children:n?"Analyzing...":"Shepardize"})]})]}),n&&e.jsx("div",{className:"flex justify-center p-12",children:e.jsx(j,{className:"h-8 w-8 animate-spin text-blue-600"})}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(d,{title:e.jsxs(e.Fragment,{children:["Analysis for: ",e.jsx("span",{className:t.primary.text,children:r.caseName})]}),subtitle:r.citation,children:e.jsx("p",{className:a("text-sm leading-relaxed",t.text.secondary),children:r.summary})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(d,{title:"Appellate History",children:e.jsxs("div",{className:"space-y-3",children:[r.history.map((s,i)=>e.jsxs("div",{className:a("flex items-center gap-3 p-3 rounded-lg border",t.surface.highlight,t.border.default),children:[f(s.action),e.jsxs("div",{children:[e.jsx("p",{className:a("text-sm font-medium",t.text.primary),children:s.action}),e.jsxs("p",{className:a("text-xs",t.text.secondary),children:[s.citingCase," ",s.citingCitation&&`(${s.citingCitation})`]})]})]},`history-${s.citingCase}-${i}`)),r.history.length===0&&e.jsx("p",{className:a("text-xs text-center italic",t.text.tertiary),children:"No appellate history found."})]})}),e.jsx(d,{title:"Citing Treatment",children:e.jsxs("div",{className:"space-y-4 max-h-[500px] overflow-y-auto custom-scrollbar pr-2",children:[r.treatment.map((s,i)=>e.jsxs("div",{className:a("p-4 rounded-lg border",t.surface.default,t.border.default),children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h5",{className:a("font-bold text-sm",t.text.primary),children:s.citingCase}),p(s.treatment)]}),e.jsxs("blockquote",{className:a("border-l-4 pl-4 text-sm italic",t.border.default,t.text.secondary),children:['"',s.quote,'"']})]},`treatment-${s.citingCase}-${i}`)),r.treatment.length===0&&e.jsx("p",{className:a("text-xs text-center italic",t.text.tertiary),children:"No citing treatments found."})]})})]})]})]})};export{I as ShepardizingTool,I as default};
