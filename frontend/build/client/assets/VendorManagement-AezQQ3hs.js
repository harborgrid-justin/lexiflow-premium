import{r as f,j as e,al as b,a0 as y,cf as N}from"./vendor-core-V-oW58GW.js";import{T as g,a as T,d as m,b as i,c as C,e as o}from"./Table-C8OsWLsz.js";import{B as V}from"./Badge-B08w10nz.js";import{B as d}from"./Button-PaGqeZoR.js";import{I as c}from"./Input-JNgj1Ekc.js";import{M as S}from"./Modal-BlJFylOy.js";import{u as $,d as w}from"./useQueryHooks-BdeOvP9e.js";import{D as x}from"./dataService-75QCl8KS.js";import{u as k}from"./ThemeContext-OPG61qw5.js";import"./SyncContext-DYD5yPAv.js";import{u as E}from"./useModalState-Cst_3NmK.js";import"./vendor-misc-Dwkhvdtg.js";import"./vendor-charts-KZIdMATq.js";import"./preload-helper-BXl3LOEh.js";import"./type-mappings-DEPYyX4d.js";const B=[{value:"Court Reporting",label:"Court Reporting"},{value:"Videography",label:"Videography"},{value:"Forensics",label:"Forensics"},{value:"Translation",label:"Translation"}],M=[{value:"Active",label:"Active",variant:"success"},{value:"Preferred",label:"Preferred",variant:"info"},{value:"Blocked",label:"Blocked",variant:"error"}];function G(){const{theme:s}=k(),n=E(),[r,l]=f.useState({}),{data:p=[]}=$(["vendors","all"],()=>x.discovery.getVendors()),{mutate:h}=w(x.discovery.addVendor,{invalidateKeys:[["vendors","all"]],onSuccess:()=>{n.close(),l({})}}),u=()=>{if(!r.name)return;const a=`vnd-${Date.now()}`;h({id:a,name:r.name,serviceType:r.serviceType||"Court Reporting",contactName:r.contactName||"",phone:r.phone||"",email:r.email||"",status:"Active",rating:5})},v=a=>M.find(j=>j.value===a)?.variant||"neutral";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-xl font-semibold ${s.text.primary}`,children:"Vendor Management"}),e.jsx("p",{className:s.text.secondary,children:"Manage court reporters, videographers, and interpreters"})]}),e.jsx(d,{variant:"primary",icon:b,onClick:n.open,children:"Add Vendor"})]}),e.jsxs(g,{children:[e.jsx(T,{children:e.jsxs(m,{children:[e.jsx(i,{children:"Vendor Name"}),e.jsx(i,{children:"Service Type"}),e.jsx(i,{children:"Contact"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Rating"})]})}),e.jsx(C,{children:p.map(a=>e.jsxs(m,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:`h-4 w-4 ${s.text.secondary}`}),e.jsx("span",{className:`font-medium ${s.text.primary}`,children:a.name})]})}),e.jsx(o,{className:s.text.secondary,children:a.serviceType}),e.jsx(o,{className:s.text.secondary,children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{children:a.contactName}),e.jsx("p",{className:"text-xs",children:a.phone})]})}),e.jsx(o,{children:e.jsx(V,{variant:v(a.status),children:a.status})}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[e.jsx("span",{className:`font-medium text-sm ${s.text.primary}`,children:a.rating}),e.jsx(N,{className:"h-4 w-4 fill-current"})]})})]},a.id))})]}),n.isOpen&&e.jsx(S,{isOpen:n.isOpen,onClose:n.close,title:"Add New Vendor",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s.text.primary} mb-1`,children:"Vendor Name *"}),e.jsx(c,{value:r.name||"",onChange:a=>l(t=>({...t,name:a.target.value})),placeholder:"Enter vendor name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"vendor-service-type",className:`block text-sm font-medium ${s.text.primary} mb-1`,children:"Service Type"}),e.jsx("select",{id:"vendor-service-type",className:`w-full h-10 px-3 py-2 border rounded-md text-sm shadow-sm outline-none transition-all ${s.surface.input} ${s.border.default} ${s.text.primary} ${s.border.focused}`,value:r.serviceType||"Court Reporting",onChange:a=>l(t=>({...t,serviceType:a.target.value})),children:B.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s.text.primary} mb-1`,children:"Contact Person"}),e.jsx(c,{value:r.contactName||"",onChange:a=>l(t=>({...t,contactName:a.target.value})),placeholder:"Enter contact person"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s.text.primary} mb-1`,children:"Phone"}),e.jsx(c,{value:r.phone||"",onChange:a=>l(t=>({...t,phone:a.target.value})),placeholder:"Enter phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s.text.primary} mb-1`,children:"Email"}),e.jsx(c,{type:"email",value:r.email||"",onChange:a=>l(t=>({...t,email:a.target.value})),placeholder:"Enter email address"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(d,{variant:"secondary",onClick:n.close,children:"Cancel"}),e.jsx(d,{variant:"primary",onClick:u,disabled:!r.name,children:"Add Vendor"})]})]})})]})}export{G as VendorManagement,G as default};
