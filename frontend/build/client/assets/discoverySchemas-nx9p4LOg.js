import{D as l}from"./type-mappings-DEPYyX4d.js";const p=e=>e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:/gi,"").trim(),f=e=>/^\d{4}-\d{2}-\d{2}$/.test(e),d=e=>/^[A-Z0-9_-]{1,10}$/.test(e),g=Object.values(l),h=["Production","Interrogatory","Admission","Deposition"],v=e=>{const t=[];if(typeof e!="object"||e===null)return{success:!1,error:{errors:[{path:"root",message:"Data must be an object"}]}};const r="id"in e?e.id:void 0;(!r||typeof r!="string")&&t.push({path:"id",message:"Request ID is required"});const s="title"in e&&typeof e.title=="string"?e.title:"",i=s?p(s):"";i?i.length>500&&t.push({path:"title",message:"Title too long (max 500 characters)"}):t.push({path:"title",message:"Title is required"});const a="type"in e?e.type:void 0;h.includes(a)||t.push({path:"type",message:"Invalid discovery type"});const o="serviceDate"in e?e.serviceDate:void 0;o&&typeof o=="string"&&!f(o)&&t.push({path:"serviceDate",message:"Invalid service date format (YYYY-MM-DD)"});const n="dueDate"in e?e.dueDate:void 0;(!n||typeof n!="string"||!f(n))&&t.push({path:"dueDate",message:"Invalid due date format (YYYY-MM-DD)"});const m="status"in e?e.status:void 0;g.includes(m)||t.push({path:"status",message:"Invalid status"});const c="description"in e&&typeof e.description=="string"?e.description:"",u=c?p(c):"";return u.length>5e3&&t.push({path:"description",message:"Description too long (max 5000 characters)"}),t.length>0?{success:!1,error:{errors:t}}:{success:!0,data:{...e,title:i,description:u}}},b=e=>{const t=[],r={};if(!e||typeof e!="object")return t.push({path:"data",message:"Invalid production config data"}),{success:!1,error:{errors:t}};const s=e,i=s.batesPrefix&&typeof s.batesPrefix=="string"?s.batesPrefix.trim():"";i?d(i)?r.batesPrefix=i:t.push({path:"batesPrefix",message:"Invalid Bates prefix format (A-Z, 0-9, _, - only, max 10 chars)"}):t.push({path:"batesPrefix",message:"Bates prefix is required"});const a=typeof s.startNumber=="number"?s.startNumber:parseInt(String(s.startNumber||""));isNaN(a)||a<1?t.push({path:"startNumber",message:"Start number must be a positive integer"}):a>999999999?t.push({path:"startNumber",message:"Start number too large (max 999999999)"}):r.startNumber=a;const o=["PDF","Native","TIFF"];return s.format&&typeof s.format=="string"&&o.includes(s.format)?r.format=s.format:t.push({path:"format",message:"Invalid format (must be PDF, Native, or TIFF)"}),t.length>0?{success:!1,error:{errors:t}}:{success:!0,data:r}},y=e=>v(e),x=e=>b(e);export{x as a,y as v};
