const u=["USD","EUR","GBP","JPY","CAD","AUD","CHF"];const s="en-US",S=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=(r,e,t=0)=>{if(r==null||r==="")return t;const n=Number(r);return isNaN(n)?(console.warn(`[FormattersService.${e}] Value must be a valid number, got: ${r}, using default: ${t}`),t):isFinite(n)?n:(console.warn(`[FormattersService.${e}] Value must be finite, got: ${n}, using default: ${t}`),t)},l=(r,e)=>{if(!r)throw new Error(`[FormattersService.${e}] Date is required`);const t=new Date(r);if(isNaN(t.getTime()))throw new Error(`[FormattersService.${e}] Invalid date: ${r}`);return t},m=(r,e)=>{if(r==null)throw new Error(`[FormattersService.${e}] String is required`);return r},F=r=>{const e=r.toUpperCase();return u.includes(e)?e:(console.warn(`[FormattersService] Unsupported currency "${r}", using USD`),"USD")},o={currency:(r,e="USD",t=s)=>{try{const n=a(r,"currency",0),i=F(e);return new Intl.NumberFormat(t,{style:"currency",currency:i,minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}catch(n){return console.error("[FormattersService.currency] Error:",n),"$0.00"}},date:(r,e)=>{try{const t=l(r,"date");return e?t.toLocaleDateString(s,e):t.toISOString().split("T")[0]}catch(t){return console.error("[FormattersService.date] Error:",t),"N/A"}},fileSize:(r,e=2)=>{try{const t=a(r,"fileSize");if(t<0)throw new Error("[FormattersService.fileSize] Bytes cannot be negative");if(t===0)return"0 Bytes";const n=1024,i=e<0?0:e,c=Math.floor(Math.log(t)/Math.log(n));return`${parseFloat((t/Math.pow(n,c)).toFixed(i))} ${S[c]}`}catch(t){return console.error("[FormattersService.fileSize] Error:",t),"0 Bytes"}},capitalize:r=>{try{const e=m(r,"capitalize");return e.length===0?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}catch(e){return console.error("[FormattersService.capitalize] Error:",e),""}}},E={currency:o.currency,date:o.date,fileSize:o.fileSize,capitalize:o.capitalize};export{E as F};
