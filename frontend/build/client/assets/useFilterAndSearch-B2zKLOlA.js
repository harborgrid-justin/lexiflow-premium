import{r as u}from"./vendor-core-V-oW58GW.js";function f({items:r,config:e,initialCategory:c="All",initialSearch:i=""}){const[a,y]=u.useState(i),[o,d]=u.useState(c),A=u.useMemo(()=>{if(!e.categoryField)return["All"];const t=new Set(r.map(l=>String(l[e.categoryField])));return["All",...Array.from(t).sort()]},[r,e.categoryField]);return{filteredItems:u.useMemo(()=>Array.isArray(r)?r.filter(t=>{if(o!=="All"&&e.categoryField&&String(t[e.categoryField])!==o)return!1;if(a){const l=a.toLowerCase(),F=e.searchFields.some(n=>{const s=t[n];return s&&String(s).toLowerCase().includes(l)}),S=e.arrayFields?.some(n=>{const s=t[n];return Array.isArray(s)&&s.some(m=>String(m).toLowerCase().includes(l))});return F||S}return!0}):[],[r,a,o,e]),searchQuery:a,setSearchQuery:y,category:o,setCategory:d,categories:A}}export{f as u};
