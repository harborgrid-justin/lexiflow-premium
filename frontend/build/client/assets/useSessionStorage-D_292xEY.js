import{r as d,j as s,l as u}from"./vendor-core-V-oW58GW.js";import{u as f}from"./ThemeContext-OPG61qw5.js";import{c as a}from"./useQueryHooks-Oyt-TMLP.js";function x({message:t="Loading..."}){const{theme:e}=f(),[c,i]=d.useState(!1);return d.useEffect(()=>{if(!(typeof navigator>"u")&&"connection"in navigator){const r=navigator.connection;r&&(r.saveData||r.effectiveType==="2g"||r.effectiveType==="3g")&&i(!0)}},[]),c?s.jsx("div",{className:"flex items-center justify-center h-full p-8",role:"status","aria-live":"polite",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:a("text-sm font-bold mb-2",e.text.secondary),children:t}),s.jsx("div",{className:a("text-xs",e.text.tertiary),children:"Low Bandwidth Mode Active"})]})}):s.jsxs("div",{className:"h-full w-full p-6 space-y-6 overflow-hidden",role:"status","aria-live":"polite","aria-label":t,children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 animate-pulse",children:[1,2,3,4].map(o=>s.jsx("div",{className:a("h-32 rounded-xl border shadow-sm relative overflow-hidden",e.surface.default,e.border.default),children:s.jsx("div",{className:a("absolute inset-0 bg-gradient-to-r from-transparent via-current to-transparent opacity-10 animate-shimmer",e.surface.highlight),style:{backgroundSize:"200% 100%"}})},`skeleton-metric-${o}`))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-pulse",children:[s.jsx("div",{className:a("lg:col-span-2 h-[400px] rounded-xl border shadow-sm",e.surface.default,e.border.default),children:s.jsxs("div",{className:"h-full w-full bg-opacity-30 flex flex-col p-6 space-y-6",children:[s.jsx("div",{className:a("h-6 w-1/3 rounded",e.surface.highlight)}),s.jsx("div",{className:a("flex-1 rounded-lg",e.surface.highlight)})]})}),s.jsx("div",{className:a("h-[400px] rounded-xl border shadow-sm",e.surface.default,e.border.default),children:s.jsxs("div",{className:"h-full w-full bg-opacity-30 flex flex-col p-6 space-y-4",children:[s.jsx("div",{className:a("h-6 w-1/2 rounded",e.surface.highlight)}),s.jsxs("div",{className:"space-y-3 pt-4",children:[s.jsx("div",{className:a("h-16 w-full rounded-lg",e.surface.highlight)}),s.jsx("div",{className:a("h-16 w-full rounded-lg",e.surface.highlight)}),s.jsx("div",{className:a("h-16 w-full rounded-lg",e.surface.highlight)})]})]})})]}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsx("span",{className:a("text-xs font-medium animate-pulse uppercase tracking-widest",e.text.tertiary),children:t})})]})}function p(t,e){const[c,i]=d.useState(()=>{if(typeof window>"u")return e;try{const r=window.sessionStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.warn(`Error reading sessionStorage key "${t}":`,r),e}}),o=u.useCallback(r=>{try{i(n=>{const l=r instanceof Function?r(n):r;return typeof window<"u"&&window.sessionStorage.setItem(t,JSON.stringify(l)),l})}catch(n){console.warn(`Error saving sessionStorage key "${t}":`,n)}},[t]);return d.useEffect(()=>{const r=n=>{if(n.key===t&&n.storageArea===window.sessionStorage)try{i(n.newValue?JSON.parse(n.newValue):e)}catch(l){console.warn(`Error parsing storage change for key "${t}"`,l)}};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[t,e]),[c,o]}export{x as L,p as u};
