import { Form, useNavigate } from 'react-router';
 
import type { Case } from '@/types';
export interface StrategyTemplate { id: string; name: string; category: 'offensive' | 'defensive' | 'settlement' | 'appeal'; phases: string[]; description: string;
} export interface StrategyBuilderProps { templates: StrategyTemplate[]; caseTypes: Array<{ id: string; name: string }>; cases: Case[];
} export function StrategyBuilder({ templates, caseTypes, cases }: StrategyBuilderProps) { const navigate = useNavigate(); const handleCancel = () => { navigate('/litigation'); }; const handleLoadTemplate = (templateId: string) => { navigate(`/litigation/builder?template=${templateId}`); }; return ( <div className="p-8"> {/* Breadcrumb */} <nav className="mb-6 flex items-center gap-2 text-sm text-[var(--color-textMuted)] dark:text-[var(--color-textMuted)]"> <span className="cursor-pointer hover:text-[var(--color-text)] dark:hover:text-gray-200" onClick={() => navigate('/litigation')}> Litigation </span> <span>/</span> <span className="text-[var(--color-text)]">Strategy Builder</span> </nav> {/* Page Header */} <div className="mb-8"> <h1 className="text-2xl font-bold text-[var(--color-text)]"> Litigation Strategy Builder </h1> <p className="mt-1 text-sm text-[var(--color-textMuted)] dark:text-[var(--color-textMuted)]"> Plan and manage comprehensive litigation strategies </p> </div> <div className="grid gap-8 lg:grid-cols-4"> {/* Main Builder Area */} <div className="lg:col-span-3"> <Form method="post" className="space-y-6"> {/* Strategy Overview */} <div className="rounded-lg border border-[var(--color-borderLight)] bg-[var(--color-surface)] p-6"> <h2 className="mb-4 text-lg font-semibold text-[var(--color-text)]"> Strategy Overview </h2> <div className="grid gap-4 sm:grid-cols-2"> <div className="sm:col-span-2"> <label htmlFor="name" className="mb-1 block text-sm font-medium text-[var(--color-text)]"> Strategy Name </label> <input type="text" id="name" name="name" placeholder="e.g., Smith v. Corp - Aggressive Discovery Strategy" className="w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500" /> </div> <div className="sm:col-span-2"> <label htmlFor="caseId" className="mb-1 block text-sm font-medium text-[var(--color-text)]"> Select Case </label> <select id="caseId" name="caseId" className="w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500" > <option value="">Select a case...</option> {cases.map((c) => ( <option key={c.id} value={c.id}> {c.title} ({c.caseNumber || 'No Number'}) </option> ))} </select> </div> <div> <label htmlFor="caseType" className="mb-1 block text-sm font-medium text-[var(--color-text)]"> Case Type </label> <select id="caseType" name="caseType" className="w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500" > <option value="">Select case type</option> {caseTypes.map((type) => ( <option key={type.id} value={type.id}> {type.name} </option> ))} </select> </div> <div> <label htmlFor="templateId" className="mb-1 block text-sm font-medium text-[var(--color-text)]"> Strategy Template </label> <select id="templateId" name="templateId" className="w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500" > <option value="">Select a template</option> {templates.map((template) => ( <option key={template.id} value={template.id}> {template.name} </option> ))} </select> </div> </div> </div> {/* Strategic Objectives */} <div className="rounded-lg border border-[var(--color-borderLight)] bg-[var(--color-surface)] p-6"> <h2 className="mb-4 text-lg font-semibold text-[var(--color-text)]"> Strategic Objectives </h2> <div> <label htmlFor="objectives" className="mb-1 block text-sm font-medium text-[var(--color-text)]"> Primary Objectives </label> <textarea id="objectives" name="objectives" rows={4} placeholder="Define the primary strategic objectives for this case..." className="w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500" /> </div> <div className="mt-4"> <label htmlFor="caseDetails" className="mb-1 block text-sm font-medium text-[var(--color-text)]"> Case Details & Context </label> <textarea id="caseDetails" name="caseDetails" rows={4} placeholder="Provide relevant case details, key facts, and context..." className="w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500" /> </div> </div> {/* Key Milestones */} <div className="rounded-lg border border-[var(--color-borderLight)] bg-[var(--color-surface)] p-6"> <h2 className="mb-4 text-lg font-semibold text-[var(--color-text)]"> Key Milestones </h2> <div className="grid gap-4 sm:grid-cols-3"> <div> <label htmlFor="milestoneName" className="mb-1 block text-sm font-medium text-[var(--color-text)]"> Milestone </label> <input type="text" id="milestoneName" name="milestoneName" placeholder="e.g., Discovery Deadline" className="w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500" /> </div> <div> <label htmlFor="dueDate" className="mb-1 block text-sm font-medium text-[var(--color-text)]"> Due Date </label> <input type="date" id="dueDate" name="dueDate" className="w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500" /> </div> <div> <label htmlFor="priority" className="mb-1 block text-sm font-medium text-[var(--color-text)]"> Priority </label> <select id="priority" name="priority" className="w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500" > <option value="low">Low</option> <option value="medium">Medium</option> <option value="high">High</option> <option value="critical">Critical</option> </select> </div> </div> <button type="submit" name="intent" value="add-milestone" style={{ backgroundColor: 'var(--color-surface)', color: 'var(--color-text)', borderColor: 'var(--color-border)' }} className="mt-4 rounded-md border px-4 py-2 text-sm font-medium shadow-sm hover:bg-[var(--color-surfaceRaised)] dark:hover:bg-gray-600" > Add Milestone </button> </div> {/* Risk Assessment */} <div className="rounded-lg border border-[var(--color-borderLight)] bg-[var(--color-surface)] p-6"> <h2 className="mb-4 text-lg font-semibold text-[var(--color-text)]"> Risk Assessment </h2> <div> <label htmlFor="factors" className="mb-1 block text-sm font-medium text-[var(--color-text)]"> Risk Factors </label> <textarea id="factors" name="factors" rows={4} placeholder="Identify potential risk factors, adverse outcomes, and mitigation strategies..." className="w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500" /> </div> <button type="submit" name="intent" value="analyze-risk" className="mt-4 rounded-md border border-orange-300 bg-orange-50 px-4 py-2 text-sm font-medium text-orange-700 shadow-sm hover:bg-orange-100 dark:border-orange-700 dark:bg-orange-900/20 dark:text-orange-300 dark:hover:bg-orange-900/40" > Analyze Risks </button> </div> {/* Actions */} <div className="flex items-center justify-between border-t border-[var(--color-borderLight)] pt-6"> <button type="button" onClick={handleCancel} style={{ backgroundColor: 'var(--color-surface)', color: 'var(--color-text)', borderColor: 'var(--color-border)' }} className="rounded-md border px-4 py-2 text-sm font-medium shadow-sm hover:bg-[var(--color-surfaceRaised)] dark:hover:bg-gray-600" > Cancel </button> <div className="flex gap-3"> <button type="submit" name="intent" value="generate" className="rounded-md border border-blue-300 bg-blue-50 px-4 py-2 text-sm font-medium text-blue-700 shadow-sm hover:bg-blue-100 dark:border-blue-700 dark:bg-blue-900/20 dark:hover:bg-blue-900/40" > Generate Strategy </button> <button type="submit" name="intent" value="save" className="rounded-md bg-[var(--color-primary)] px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-[var(--color-primaryDark)] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2" > Save Strategy </button> </div> </div> </Form> </div> {/* Sidebar */} <div className="space-y-6"> {/* Strategy Templates */} <div className="rounded-lg border border-[var(--color-borderLight)] bg-[var(--color-surface)] p-6"> <h3 className="mb-4 text-sm font-semibold text-[var(--color-text)]"> Strategy Templates </h3> <div className="space-y-2"> {templates.map((template) => ( <button key={template.id} type="button" onClick={() => handleLoadTemplate(template.id)} className="block w-full rounded-md px-3 py-2 text-left text-sm text-[var(--color-text)] hover:bg-[var(--color-surfaceRaised)] dark:hover:bg-gray-700" > <span className="font-medium">{template.name}</span> <span className="block text-xs text-[var(--color-textMuted)] dark:text-[var(--color-textMuted)]"> {template.description} </span> <div className="mt-1 flex flex-wrap gap-1"> {template.phases.slice(0, 2).map((phase) => ( <span key={phase} className="rounded bg-[var(--color-surfaceRaised)] px-1.5 py-0.5 text-xs text-[var(--color-textMuted)] dark:text-[var(--color-textMuted)]" > {phase} </span> ))} {template.phases.length > 2 && ( <span className="text-xs text-[var(--color-textMuted)]">+{template.phases.length - 2} more</span> )} </div> </button> ))} </div> </div> {/* Strategy Tips */} <div className="rounded-lg border border-blue-200 bg-blue-50 p-6 dark:border-blue-800 dark:bg-blue-900/20"> <h3 className="mb-2 text-sm font-semibold text-blue-900"> Strategy Tips </h3> <ul className="space-y-2 text-sm text-blue-700"> <li>Define clear, measurable objectives</li> <li>Identify risks early in the process</li> <li>Set realistic milestones</li> <li>Review and adapt strategy regularly</li> </ul> </div> {/* Export Options */} <div className="rounded-lg border border-[var(--color-borderLight)] bg-[var(--color-surface)] p-6"> <h3 className="mb-4 text-sm font-semibold text-[var(--color-text)]"> Export Strategy </h3> <Form method="post" className="space-y-2"> <input type="hidden" name="intent" value="export" /> <button type="submit" name="format" value="pdf" className="block w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-left text-sm text-[var(--color-text)] hover:bg-[var(--color-surfaceRaised)] dark:hover:bg-gray-700" > Export as PDF </button> <button type="submit" name="format" value="docx" className="block w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-left text-sm text-[var(--color-text)] hover:bg-[var(--color-surfaceRaised)] dark:hover:bg-gray-700" > Export as Word </button> <button type="submit" name="format" value="timeline" className="block w-full rounded-md border border-[var(--color-border)] px-3 py-2 text-left text-sm text-[var(--color-text)] hover:bg-[var(--color-surfaceRaised)] dark:hover:bg-gray-700" > Export Timeline </button> </Form> </div> </div> </div> </div> );
}
