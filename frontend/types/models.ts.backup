
// types/models.ts

import {
  CaseStatus, UserRole, MatterType, BillingModel,
  OrganizationType, RiskCategory, RiskLevel, RiskStatus,
  CommunicationType, CommunicationDirection, ServiceStatus,
  ExhibitStatus, ExhibitParty, MotionType, MotionStatus, MotionOutcome,
  DocketEntryType, DiscoveryType, DiscoveryStatus,
  EvidenceType, AdmissibilityStatus, ConferralResult,
  ConferralMethod, NavCategory, TaskStatus, StageStatus, LegalRuleType, ServiceMethod,
  EntityType, EntityRole, CurrencyCode, LedesActivityCode, OcrStatus, TaskDependencyType
} from './enums';
import { LucideIcon } from 'lucide-react';
import type { FC, LazyExoticComponent } from 'react';

// --- Domain Primitives & Value Objects ---
export type Brand<K, T> = K & { readonly __brand: T };
export type UUID = Brand<string, 'UUID'>;
export type CaseId = Brand<string, 'CaseId'>;
export type UserId = Brand<string, 'UserId'>;
export type OrgId = Brand<string, 'OrgId'>;
export type GroupId = Brand<string, 'GroupId'>;
export type DocumentId = Brand<string, 'DocumentId'>;
export type EvidenceId = Brand<string, 'EvidenceId'>;
export type TaskId = Brand<string, 'TaskId'>;
export type EntityId = Brand<string, 'EntityId'>;
export type PartyId = Brand<string, 'PartyId'>;
export type MotionId = Brand<string, 'MotionId'>;
export type DocketId = Brand<string, 'DocketId'>;
export type ProjectId = Brand<string, 'ProjectId'>;
export type WorkflowTemplateId = Brand<string, 'WorkflowTemplateId'>;


export interface Money {
  amount: number;
  currency: CurrencyCode;
  precision: number;
}

export interface JurisdictionObject {
  country: string;
  state: string;
  courtLevel: 'Federal' | 'State' | 'Appellate' | 'Supreme';
  division?: string;
  county?: string;
}

export interface BaseEntity {
  id: string;
  createdAt?: string; // ISO 8601 date string from backend Date
  updatedAt?: string; // ISO 8601 date string from backend Date
  deletedAt?: string; // ISO 8601 date string from backend Date (soft delete)
  createdBy?: UserId;
  updatedBy?: UserId;
  version?: number;
  isEncrypted?: boolean;
}

// --- SYSTEM CONFIG ---
export interface TenantConfig {
  name: string;
  tier: string;
  version: string;
  region: string;
}

export interface ApiMethod {
  name: string;
  http: 'GET' | 'POST' | 'PUT' | 'DELETE';
  path: string;
  description: string;
  params: { name: string; type: string; desc: string }[];
  response: string; // JSON string example
}

export interface ApiServiceSpec {
  name: string;
  description: string;
  methods: ApiMethod[];
}


export interface OperatingSummary {
    id?: string;
    balance: number;
    expensesMtd: number;
    cashFlowMtd: number;
}

export interface ComplianceMetrics {
    score: number;
    high: number;
    missingDocs: number;
    violations: number;
    activeWalls: number;
}

// --- DATA PLATFORM ---
export interface SchemaTable { 
    name: string; 
    x: number; 
    y: number; 
    columns: any[]; 
}
export interface DataProfile { 
    column: string; 
    type: string; 
    nulls: number; 
    unique: number; 
    distribution: {name: string, value: number}[]; 
}
export interface DataLakeItem { 
    id: string; 
    name: string; 
    type: 'folder' | 'file'; 
    size?: string; 
    modified: string; 
    format?: string; 
    tier: 'Hot' | 'Cool' | 'Archive'; 
    parentId: string; 
}
export interface CostMetric { 
    name: string; 
    cost: number; 
}
export interface CostForecast { 
    day: string; 
    actual: number | null; 
    forecast: number | null; 
}
export interface LineageNode { 
    id: string; 
    label: string; 
    type: 'root' | 'org' | 'party' | 'evidence'; 
}
export interface LineageLink { 
    source: string; 
    target: string; 
    strength: number; 
}
export interface Connector {
  id: string;
  name: string;
  type: string;
  status: 'Healthy' | 'Syncing' | 'Degraded' | 'Error';
  color: string;
  icon?: any; 
}
export interface GovernanceRule {
  id: number;
  name: string;
  status: string;
  impact: string;
  passing: string;
  desc: string;
}
export interface GovernancePolicy {
  id: string;
  title: string;
  version: string;
  status: string;
  date: string;
}
export interface PipelineJob {
  id: string;
  name: string;
  status: 'Success' | 'Running' | 'Failed';
  lastRun: string;
  duration: string;
  volume: string;
  schedule: string;
  logs: string[];
}
export type SnapshotType = 'Incremental' | 'Full';
export interface BackupSnapshot {
  id: string;
  name: string;
  type: SnapshotType;
  created: string;
  size: string;
  status: 'Completed' | 'Running' | 'Failed';
}
export interface ArchiveStats {
  totalSize: string;
  objectCount: number;
  monthlyCost: number;
  retentionPolicy: string;
  glacierTier: string;
}
export interface ApiKey {
  id: string;
  name: string;
  prefix: string;
  created: string;
  status: 'Active' | 'Revoked';
}
export interface DataDictionaryItem {
  id: string;
  table: string;
  column: string;
  dataType: string;
  description: string;
  classification: 'Public' | 'Internal' | 'Confidential' | 'Restricted';
  isPII: boolean;
  domain: string;
  owner: string;
  sourceSystem: string;
  dataQualityScore: number;
}


// --- FINANCIAL & MARKETING ---
export interface FinancialPerformanceData {
    revenue: { month: string; actual: number; target: number }[];
    expenses: { category: string; value: number }[];
}
export interface MarketingCampaign {
    id: string;
    name: string;
    target: string;
    status: 'Active' | 'Upcoming' | 'Completed';
    budget?: string;
    dates?: string;
}
export interface MarketingMetric {
  source: string;
  leads: number;
  conversions: number;
  revenue: number;
  roi: number;
}


// --- CLUSTER 1: CORE & SYSTEM ---
export interface User extends BaseEntity { 
  id: UserId; 
  // Core fields (aligned with backend)
  email: string; // Backend: unique, indexed
  password?: string; // Backend field (not exposed in frontend typically)
  firstName?: string; // Backend field
  lastName?: string; // Backend field
  name: string; // Computed from firstName + lastName
  role: UserRole; // Backend: enum (indexed)
  department?: string; // Backend: varchar(200), indexed
  title?: string; // Backend: varchar(100)
  
  // Contact info
  phone?: string; // Backend: varchar(50)
  extension?: string; // Backend: varchar(50)
  mobilePhone?: string; // Backend: varchar(50)
  avatarUrl?: string; // Backend: varchar(500)
  office?: string;
  
  // Organization
  orgId?: OrgId;
  groupIds?: GroupId[];
  userType?: 'Internal' | 'External';
  
  // Status & security
  status?: 'online' | 'offline' | 'away' | 'busy'; // Frontend real-time status
  isActive?: boolean; // Backend: boolean (default: true, indexed)
  isVerified?: boolean; // Backend: boolean (default: false)
  verificationToken?: string; // Backend field
  verificationTokenExpiry?: string; // Backend: timestamp
  
  // Password reset
  resetPasswordToken?: string; // Backend field
  resetPasswordExpiry?: string; // Backend: timestamp
  
  // Login tracking
  lastLoginAt?: string; // Backend: timestamp
  lastLoginIp?: string; // Backend: varchar(100)
  loginAttempts?: number; // Backend: int (default: 0)
  lockedUntil?: string; // Backend: timestamp
  
  // Two-factor auth
  twoFactorEnabled?: boolean; // Backend: boolean (default: false)
}
export interface Organization extends BaseEntity { id: OrgId; name: string; type: OrganizationType; domain: string; status: string; }
export interface Group extends BaseEntity { id: GroupId; orgId: OrgId; name: string; description: string; permissions: string[]; }
export interface FeatureFlag extends BaseEntity { key: string; enabled: boolean; rules?: any; description: string; }
export interface IntegrationMapping extends BaseEntity { system: string; entity: string; fieldMap: Record<string, string>; direction: 'Inbound' | 'Outbound' | 'Bi-directional'; }

// --- NEW: GRANULAR PROFILE SYSTEM ---
export type AccessEffect = 'Allow' | 'Deny';
export type AccessScope = 'Global' | 'Region' | 'Office' | 'Personal';

export interface AccessCondition {
  type: 'Time' | 'Location' | 'Device' | 'Network';
  operator: 'Equals' | 'NotEquals' | 'Between' | 'Includes';
  value: any;
}

export interface GranularPermission {
  id: string;
  resource: string; // e.g., "cases", "billing.invoices", "documents.metadata"
  action: 'create' | 'read' | 'update' | 'delete' | 'export' | 'approve' | '*';
  effect: AccessEffect;
  scope: AccessScope;
  conditions?: AccessCondition[]; // e.g., Time: 9am-5pm
  expiration?: string; // ISO Date for temporary access
  reason?: string; // Audit trail for why this permission exists
}

export interface UserPreferences {
  theme: 'light' | 'dark' | 'system';
  notifications: {
    email: boolean;
    push: boolean;
    slack: boolean;
    digestFrequency: 'Realtime' | 'Daily' | 'Weekly';
  };
  dashboardLayout: string[]; // Widget IDs
  density: 'comfortable' | 'compact';
  locale: string;
  timezone: string;
}

export interface UserSecurityProfile {
  mfaEnabled: boolean;
  mfaMethod: 'App' | 'SMS' | 'Hardware';
  lastPasswordChange: string;
  passwordExpiry: string;
  ipWhitelist?: string[];
  activeSessions: {
    id: string;
    device: string;
    ip: string;
    lastActive: string;
    current: boolean;
  }[];
}

export interface ExtendedUserProfile extends User {
  entityId: EntityId; // Link to Entity Director
  title: string;
  department: string;
  managerId?: UserId;
  accessMatrix: GranularPermission[];
  preferences: UserPreferences;
  security: UserSecurityProfile;
  skills: string[];
  barAdmissions: { state: string; number: string; status: 'Active' | 'Inactive' }[];
}

// --- CLUSTER 2: CASE & LITIGATION ---
export interface Case extends BaseEntity { 
  id: CaseId;
  // Core fields (aligned with backend)
  title: string;
  caseNumber?: string; // Backend has this as unique field
  description?: string;
  type?: MatterType; // Maps to backend 'type' enum
  status: CaseStatus;
  practiceArea?: string; // Backend field
  jurisdiction?: string;
  jurisdictionConfig?: JurisdictionObject;
  court?: string;
  judge?: string;
  filingDate: string; // Backend: Date
  trialDate?: string; // Backend field
  closeDate?: string; // Backend field
  
  // Team & ownership
  assignedTeamId?: string; // Backend field
  leadAttorneyId?: string; // Backend field (maps to ownerId)
  ownerId?: UserId; // Frontend legacy
  ownerOrgId?: OrgId;
  team?: CaseTeamMember[];
  
  // Client relationship
  client: string; // Display name
  clientId?: UserId | EntityId; // Backend: uuid (required)
  
  // Relationships
  parties: Party[];
  citations: Citation[];
  linkedCaseIds?: CaseId[];
  leadCaseId?: CaseId;
  isConsolidated?: boolean;
  associatedCases?: any[];
  
  // Litigation details
  arguments: LegalArgument[];
  defenses: Defense[];
  magistrateJudge?: string;
  opposingCounsel?: string;
  origCaseNumber?: string;
  origCourt?: string;
  origJudgmentDate?: string;
  noticeOfAppealDate?: string;
  dateTerminated?: string;
  natureOfSuit?: string;
  
  // Financial
  value?: number;
  valuation?: Money;
  billingModel?: BillingModel;
  feeAgreement?: FeeAgreement;
  budget?: Money;
  budgetAlertThreshold?: number;
  
  // Metadata
  matterType: MatterType;
  matterSubType?: string;
  pacerData?: any;
  metadata?: Record<string, any>; // Backend: jsonb field
  isArchived: boolean; // Backend field (default: false)
  projects?: Project[];
  
  // Statute of limitations
  solDate?: string;
  solTriggerDate?: string;
}

export interface Party extends BaseEntity { 
  id: PartyId;
  // Core fields (aligned with backend Party entity)
  caseId: CaseId; // Backend: uuid (required), FK to cases
  name: string; // Backend: varchar(255)
  type: 'Plaintiff' | 'Defendant' | 'Petitioner' | 'Respondent' | 'Appellant' | 'Appellee' | 'Third Party' | 'Witness' | 'Expert Witness' | 'Other' | 'Individual' | 'Corporation' | 'Government'; // Backend: enum PartyType
  role: 'Primary' | 'Co-Party' | 'Interested Party' | 'Guardian' | 'Representative' | string; // Backend: enum PartyRole
  
  // Organization
  organization?: string; // Backend: varchar(255)
  
  // Contact information
  email?: string; // Backend: varchar(255)
  phone?: string; // Backend: varchar(50)
  address?: string; // Backend: text
  city?: string; // Backend: varchar(100)
  state?: string; // Backend: varchar(100)
  zipCode?: string; // Backend: varchar(20)
  country?: string; // Backend: varchar(100)
  
  // Legal representation
  counsel?: string; // Backend: varchar(255)
  
  // Additional data
  notes?: string; // Backend: text
  metadata?: Record<string, any>; // Backend: jsonb
  
  // Frontend-specific (legacy)
  contact?: string;
  partyGroup?: string;
  linkedOrgId?: OrgId;
  representationType?: string;
  attorneys?: Attorney[];
  pacerData?: any;
  aliases?: string[];
  taxId?: string;
}
export interface Attorney { name: string; firm?: string; email?: string; phone?: string; address?: string; type?: string; }
export interface CaseTeamMember { userId: UserId; role: 'Lead' | 'Support' | 'Paralegal'; rateOverride?: Money; }

// --- CLUSTER 3: FINANCIAL & BILLING ---
export interface FeeAgreement { type: BillingModel; rate?: Money; contingencyPercent?: number; retainerRequired?: Money; splitRules?: SplitBillingRule[]; }
export interface SplitBillingRule { clientId: string; percentage: number; }
export interface RateTable extends BaseEntity { timekeeperId: string; rate: Money; effectiveDate: string; expiryDate?: string; level: string; }
export interface TimeEntry extends BaseEntity { 
  // Core fields (aligned with backend TimeEntry entity)
  caseId: CaseId; // Backend: varchar (case_id)
  userId: UserId; // Backend: varchar (user_id)
  date: string; // Backend: date (required)
  duration: number; // Backend: decimal(10,2) in hours
  description: string; // Backend: text (required)
  activity?: string; // Backend: varchar(100) e.g., "Research", "Court Appearance"
  ledesCode?: string; // Backend: varchar(20) LEDES billing code
  rate: number; // Backend: decimal(10,2) hourly rate
  total: number; // Backend: decimal(10,2) duration * rate
  status: 'Draft' | 'Submitted' | 'Approved' | 'Billed' | 'Written Off' | string; // Backend: enum TimeEntryStatus
  billable: boolean; // Backend: boolean, default true
  invoiceId?: string; // Backend: uuid
  rateTableId?: string; // Backend: uuid
  internalNotes?: string; // Backend: text
  taskCode?: string; // Backend: varchar(255)
  discount?: number; // Backend: decimal(5,2) percentage
  discountedTotal?: number; // Backend: decimal(10,2)
  approvedBy?: string; // Backend: uuid
  approvedAt?: string; // Backend: timestamp
  billedBy?: string; // Backend: uuid
  billedAt?: string; // Backend: timestamp
  
  // Frontend-specific
  ledesActivity?: LedesActivityCode; // Alias for ledesCode
}
export interface TimeEntryPayload { caseId: string; date: string; duration: number; description: string; rate: number; total: number; status: 'Unbilled'; }
export interface Invoice extends BaseEntity { 
  // Core fields (aligned with backend Invoice entity)
  invoiceNumber: string; // Backend: varchar unique (required)
  caseId: CaseId; // Backend: varchar (case_id)
  clientId: string; // Backend: varchar (client_id)
  clientName: string; // Backend: varchar(255)
  matterDescription: string; // Backend: varchar(500)
  invoiceDate: string; // Backend: date (required)
  dueDate: string; // Backend: date (required)
  periodStart?: string; // Backend: date
  periodEnd?: string; // Backend: date
  billingModel: 'Hourly' | 'Fixed Fee' | 'Contingency' | 'Hybrid' | 'Retainer'; // Backend: enum BillingModel
  status: 'Draft' | 'Sent' | 'Viewed' | 'Partial' | 'Paid' | 'Overdue' | 'Written Off' | string; // Backend: enum InvoiceStatus
  subtotal: number; // Backend: decimal(10,2), default 0
  taxAmount: number; // Backend: decimal(10,2), default 0
  taxRate?: number; // Backend: decimal(5,2), default 0
  discountAmount: number; // Backend: decimal(10,2), default 0
  totalAmount: number; // Backend: decimal(10,2), default 0
  paidAmount: number; // Backend: decimal(10,2), default 0
  balanceDue: number; // Backend: decimal(10,2), default 0
  timeCharges: number; // Backend: decimal(10,2), default 0
  expenseCharges: number; // Backend: decimal(10,2), default 0
  notes?: string; // Backend: text
  terms?: string; // Backend: text
  billingAddress?: string; // Backend: varchar(500)
  jurisdiction?: string; // Backend: varchar(50)
  currency: string; // Backend: varchar(3), default 'USD'
  sentAt?: string; // Backend: timestamp
  sentBy?: string; // Backend: uuid
  viewedAt?: string; // Backend: timestamp
  paidAt?: string; // Backend: timestamp
  paymentMethod?: string; // Backend: varchar(100)
  paymentReference?: string; // Backend: varchar(255)
  
  // Frontend-specific (legacy)
  client?: string; // Alias for clientName
  matter?: string; // Alias for matterDescription
  date?: string; // Alias for invoiceDate
  amount?: number; // Alias for totalAmount
  items?: string[];
  taxJurisdiction?: string; // Alias for jurisdiction
}
export interface TrustTransaction extends BaseEntity { accountId: string; type: 'Deposit' | 'Withdrawal'; amount: Money; date: string; checkNumber?: string; clearedDate?: string; description: string; }
export interface FirmExpense extends BaseEntity { date: string; category: string; description: string; amount: number; status: 'Paid' | 'Pending'; vendor: string; }
export interface TrustSubLedger { id: string; name: string; balance: Money; lastReconciled: string; accountId?: string; }
export interface Employee extends BaseEntity {
  // Core fields (aligned with backend Employee entity)
  firstName: string; // Backend: varchar (required)
  lastName: string; // Backend: varchar (required)
  fullName?: string; // Backend: computed getter
  email: string; // Backend: varchar unique (required)
  role: 'Partner' | 'Senior Associate' | 'Associate' | 'Junior Associate' | 'Paralegal' | 'Legal Assistant' | 'Administrator' | 'Other'; // Backend: enum EmployeeRole
  department?: string; // Backend: varchar
  phone?: string; // Backend: varchar
  hireDate?: string; // Backend: timestamp
  status: 'Active' | 'Inactive' | 'On Leave' | 'Terminated'; // Backend: enum EmployeeStatus
  billingRate?: number; // Backend: decimal(10,2)
  targetBillableHours?: number; // Backend: int
  timeOffRequests?: any[]; // Backend: OneToMany relation
}

export interface Client extends BaseEntity { id: EntityId; name: string; industry: string; status: string; totalBilled: number; matters: CaseId[]; trustSubLedgers?: TrustSubLedger[]; taxId?: string; billingGuidelineId?: string; }

// --- CLUSTER 4: DOCUMENTS & DISCOVERY ---
export interface LegalDocument extends BaseEntity { 
  id: DocumentId;
  // Core fields (aligned with backend)
  title: string;
  description?: string; // Backend: text, nullable
  type: string; // Backend: DocumentType enum
  caseId: CaseId; // Backend: uuid, indexed
  creatorId?: UserId; // Backend: uuid (maps to authorId)
  authorId?: UserId; // Frontend legacy
  status?: string; // Backend: DocumentStatus enum (default: DRAFT)
  
  // File metadata
  filename?: string; // Backend field
  filePath?: string; // Backend field
  mimeType?: string; // Backend field
  fileSize?: string | number; // Backend: bigint
  checksum?: string; // Backend field
  
  // Versioning
  currentVersion?: number; // Backend: int (default: 1)
  versions: DocumentVersion[];
  
  // Content
  content: string; // Frontend-specific rich content
  fullTextContent?: string; // Backend: text field for search
  searchableText?: string; // Frontend legacy
  author?: string; // Backend: varchar field
  pageCount?: number; // Backend: int
  wordCount?: number; // Backend: int
  language?: string; // Backend field
  
  // OCR
  ocrStatus?: OcrStatus;
  ocrProcessed?: boolean; // Backend: boolean (default: false)
  ocrProcessedAt?: string; // Backend: timestamp
  
  // Organization
  tags: string[]; // Backend: simple-array
  customFields?: Record<string, any>; // Backend: jsonb
  folderId?: string;
  sourceModule?: string;
  
  // Security & access
  acls?: AccessControlList[];
  sharedWith?: string[];
  isRedacted?: boolean;
  retentionPolicyId?: string;
  
  // AI/ML features
  embedding?: number[];
  summary?: string;
  riskScore?: number;
  linkedRules?: string[];
  
  // E-signature
  signingStatus?: { recipient: string; status: 'Sent' | 'Viewed' | 'Signed'; signedAt?: string }[];
  formFields?: any[];
  
  // Dates (backend compatibility)
  uploadDate: string; // Maps to createdAt
  lastModified: string; // Maps to updatedAt
}
export interface DocumentVersion extends BaseEntity { documentId?: DocumentId; versionNumber: number; uploadedBy: string; uploadDate: string; contentSnapshot?: string; storageKey?: string; author?: string; authorId?: UserId; checksum?: string; }
export interface AccessControlList { roleId?: GroupId; userId?: UserId; permission: 'Read' | 'Write' | 'None'; }
export interface ReviewBatch extends BaseEntity { name: string; caseId: CaseId; assigneeId: UserId; documentIds: DocumentId[]; status: 'Pending' | 'In Progress' | 'Completed'; dueDate?: string; }
export interface RedactionLog extends BaseEntity { documentId: DocumentId; page: number; x: number; y: number; width: number; height: number; reason: string; appliedBy: UserId; }
export interface ProductionVolume extends BaseEntity { caseId: CaseId; name: string; batesStart: string; batesEnd: string; format: 'PDF' | 'Native' | 'TIFF'; documentCount: number; producedDate: string; }
export interface ProcessingJob extends BaseEntity { type: 'OCR' | 'Extraction' | 'Ingest'; status: 'Queued' | 'Processing' | 'Completed' | 'Failed'; progress: number; }

// --- CLUSTER 5: TRIAL & STRATEGY ---
export interface Juror extends BaseEntity { caseId: CaseId; name: string; status: 'Panel' | 'Seated' | 'Struck' | 'Alternate'; strikeParty?: 'Plaintiff' | 'Defense'; notes?: string; demographics?: any; }
export interface Witness extends BaseEntity { caseId: CaseId; name: string; type: 'Fact' | 'Expert'; credibilityScore: number; impeachmentRisks?: string[]; prepStatus: number; linkedExhibits?: string[]; }
export interface DepositionDesignation { id: string; depositionId: string; pageStart: number; lineStart: number; pageEnd: number; lineEnd: number; party: string; objection?: string; ruling?: string; }
export interface OpeningStatement extends BaseEntity { caseId: CaseId; sections: { title: string; durationMinutes: number; linkedExhibitIds: string[] }[]; }
export interface Fact extends BaseEntity { caseId: CaseId; date: string; description: string; type: 'Undisputed' | 'Disputed' | 'Stipulated'; supportingEvidenceIds: EvidenceId[]; }
export interface StandingOrder extends BaseEntity { judgeId: string; judgeName: string; title: string; updated: string; url: string; }

// --- CLUSTER 6: WORKFLOW & AUTOMATION ---
export interface WorkflowTask extends BaseEntity { 
  id: TaskId;
  // Core fields (aligned with backend Task entity)
  title: string;
  description?: string; // Backend: text, nullable
  status: TaskStatus; // Backend: enum TaskStatus (TODO, IN_PROGRESS, DONE, CANCELLED)
  priority: 'Low' | 'Medium' | 'High' | 'Critical'; // Backend: enum TaskPriority (LOW, MEDIUM, HIGH, URGENT)
  dueDate: string; // Backend: timestamp
  
  // Assignment
  assignee: string; // Display name
  assigneeId?: UserId; // Backend: assignedTo (string/uuid)
  createdBy?: string; // Backend: uuid
  
  // Relationships
  caseId?: CaseId; // Backend: string/uuid, nullable
  projectId?: ProjectId;
  parentTaskId?: string; // Backend: uuid, nullable
  
  // Tracking
  tags?: string[]; // Backend: simple-array
  estimatedHours?: number; // Backend: decimal(10,2)
  actualHours?: number; // Backend: decimal(10,2), default 0
  completionPercentage?: number; // Backend: int, default 0
  
  // Frontend-specific fields
  startDate?: string;
  relatedModule?: string;
  relatedItemId?: string;
  relatedItemTitle?: string;
  actionLabel?: string;
  automatedTrigger?: string;
  linkedRules?: string[];
  dependencies?: TaskId[];
  dependencyType?: TaskDependencyType;
  rrule?: string; // Recurring rule
  completion?: number; // Alias for completionPercentage
  slaId?: string;
}
export interface SLAConfig extends BaseEntity { name: string; targetHours: number; warningThresholdHours: number; businessHoursOnly: boolean; }
export interface ApprovalChain extends BaseEntity { name: string; steps: { role: UserRole; userId?: UserId; order: number }[]; }
export interface WorkflowStage { id: string; title: string; status: StageStatus | string; tasks: WorkflowTask[]; }
export interface WorkflowTemplateData extends BaseEntity { id: WorkflowTemplateId; title: string; category: string; complexity: 'Low' | 'Medium' | 'High'; duration: string; tags: string[]; auditReady: boolean; stages: string[]; }
export interface Project extends BaseEntity { 
  id: ProjectId;
  // Core fields (aligned with backend Project entity)
  name: string; // Backend: varchar(255)
  description?: string; // Backend: text, nullable
  status: 'Not Started' | 'In Progress' | 'On Hold' | 'Completed' | 'Cancelled'; // Backend: enum ProjectStatus
  priority: 'Low' | 'Medium' | 'High' | 'Urgent'; // Backend: enum ProjectPriority
  
  // Relationships
  caseId?: CaseId; // Backend: uuid, nullable, with FK to cases
  projectManagerId?: string; // Backend: uuid, nullable
  assignedTeamId?: string; // Backend: uuid, nullable
  
  // Dates
  startDate?: string; // Backend: date
  dueDate?: string; // Backend: date
  completedDate?: string; // Backend: date
  
  // Progress tracking
  completionPercentage: number; // Backend: decimal(5,2), default 0
  estimatedHours?: number; // Backend: decimal(12,2)
  actualHours?: number; // Backend: decimal(12,2)
  budget?: number; // Backend: decimal(12,2)
  
  // Content
  notes?: string; // Backend: text
  tasks?: Array<{ // Backend: jsonb
    id: string;
    name: string;
    assignedTo?: string;
    status: string;
    dueDate?: string;
    completedDate?: string;
  }>;
  milestones?: Array<{ // Backend: jsonb
    name: string;
    dueDate?: string;
    completedDate?: string;
    status: string;
  }>;
  metadata?: Record<string, any>; // Backend: jsonb
  
  // Frontend-specific (legacy)
  title?: string; // Alias for name
  lead?: string; // Alias for projectManagerId
}

// --- EXISTING MODELS (Maintained for Compatibility) ---
export interface SearchResult { id: string; title: string; url?: string; type?: string; snippet?: string; }
export interface FileChunk { id: string; pageNumber: number; contentPreview: string; hash: string; }
export interface Motion extends BaseEntity { 
  id: MotionId;
  // Core fields (aligned with backend Motion entity)
  caseId: CaseId; // Backend: uuid (required), FK to cases
  title: string; // Backend: varchar(255)
  type: MotionType; // Backend: enum MotionType
  status: MotionStatus; // Backend: enum MotionStatus (DRAFT, FILED, PENDING, GRANTED, DENIED, etc.)
  description: string; // Backend: text, nullable
  
  // Filing information
  filedBy?: string; // Backend: varchar(255)
  filedDate?: string; // Backend: date
  filingDate?: string; // Backend: date (duplicate field in backend)
  
  // Hearing and deadlines
  hearingDate?: string; // Backend: date
  responseDeadline?: string; // Backend: date
  rulingDate?: string; // Backend: date
  decisionDate?: string; // Backend: date (duplicate field in backend)
  
  // Documents and attachments
  documentId?: DocumentId; // Backend: uuid
  supportingDocs?: string[]; // Backend: jsonb
  attachments?: string[]; // Backend: jsonb
  documents?: DocumentId[]; // Frontend legacy
  
  // Decision and outcome
  ruling?: any; // Backend: jsonb
  decision?: string; // Backend: text
  relief?: string; // Backend: text
  outcome?: MotionOutcome; // Frontend-specific
  
  // Response
  opposingPartyResponse?: any; // Backend: jsonb
  
  // Frontend-specific fields
  oppositionDueDate?: string;
  replyDueDate?: string;
  assignedAttorney?: string;
  linkedRules?: string[];
  conferralStatus?: string;
  linkedEvidenceIds?: EvidenceId[];
}

export interface DocketEntryStructuredData {
  actionType: string;
  actionVerb: string;
  documentTitle: string;
  filer: string;
  additionalText: string;
}

export interface DocketEntry extends BaseEntity { 
  id: DocketId;
  // Core fields (aligned with backend DocketEntry entity)
  caseId: CaseId; // Backend: uuid (required), FK to cases
  sequenceNumber: number; // Backend: int
  docketNumber?: string; // Backend: varchar(100)
  
  // Dates
  dateFiled: string; // Backend: date (required)
  entryDate: string; // Backend: date (required)
  date?: string; // Frontend legacy alias for entryDate
  
  // Content
  description: string; // Backend: varchar(255) (required)
  type: DocketEntryType; // Backend: enum DocketEntryType
  text?: string; // Backend: text
  filedBy?: string; // Backend: varchar(255)
  
  // Document information
  documentTitle?: string; // Backend: varchar(255)
  documentUrl?: string; // Backend: varchar(2048)
  documentId?: DocumentId; // Backend: uuid
  
  // PACER integration
  pacerDocketNumber?: string; // Backend: varchar(100)
  pacerDocumentNumber?: string; // Backend: varchar(100)
  pacerLastSyncAt?: string; // Backend: timestamp
  pacerSequenceNumber?: number; // Frontend legacy
  
  // Security flags
  isSealed?: boolean; // Backend: boolean, default false
  isRestricted?: boolean; // Backend: boolean, default false
  
  // Additional data
  notes?: string; // Backend: text
  attachments?: Array<{ // Backend: jsonb
    id: string;
    name: string;
    documentNumber?: string;
  }>;
  metadata?: Record<string, any>; // Backend: jsonb
  
  // Frontend-specific fields
  title?: string; // Alias for description
  structuredData?: DocketEntryStructuredData;
  triggersDeadlines?: any[];
  docLink?: string; // Alias for documentUrl
  syncMetadata?: { pacerId: string; lastPolled: string; checksum: string };
}
export interface TrialExhibit extends BaseEntity { 
  // Core fields (aligned with backend Exhibit entity)
  exhibitNumber: string; // Backend: varchar unique (required)
  description: string; // Backend: varchar (required)
  type: 'Document' | 'Photo' | 'Video' | 'Audio' | 'Physical' | 'Demonstrative' | 'Expert Report' | 'Other'; // Backend: enum ExhibitType
  status: 'Draft' | 'Marked' | 'Offered' | 'Admitted' | 'Excluded' | 'Withdrawn'; // Backend: enum ExhibitStatus
  caseId: CaseId; // Backend: uuid (required)
  documentId?: DocumentId; // Backend: uuid
  source?: string; // Backend: varchar
  tags?: string[]; // Backend: simple-array
  custodian?: string; // Backend: varchar
  admissionDate?: string; // Backend: timestamp
  admittedBy?: string; // Backend: varchar
  
  // Frontend-specific (legacy)
  title?: string; // Alias for description
  dateMarked?: string;
  party?: string;
  fileType?: string;
  witness?: string;
  uploadedBy?: string;
  admissibilityHistory?: { date: string; status: string; ruling?: string }[];
}

export interface ChainOfCustodyEvent {
  id: string;
  date: string;
  action: string;
  actor: string;
  notes?: string;
  hash?: string;
}

export interface EvidenceItem extends BaseEntity { id: EvidenceId; caseId: CaseId; title: string; type: EvidenceType; description: string; collectionDate: string; collectedBy: string; custodian: string; location: string; admissibility: AdmissibilityStatus; tags: string[]; blockchainHash?: string; trackingUuid: UUID; chainOfCustody: ChainOfCustodyEvent[]; chunks?: FileChunk[]; fileSize?: string; fileType?: string; linkedRules?: string[]; status?: string; authenticationMethod?: 'Self-Authenticated' | 'Stipulation' | 'Testimony' | 'Pending'; hearsayStatus?: 'Not Hearsay' | 'Exception Applies' | 'Objectionable' | 'Unanalyzed'; isOriginal?: boolean; relevanceScore?: number; expertId?: string; }
export interface Citation extends BaseEntity { citation: string; title: string; type: string; description?: string; relevance: string; shepardsSignal: string; embedding?: number[]; }
export interface LegalArgument extends BaseEntity { title: string; description: string; strength: number; status: string; relatedCitationIds: string[]; relatedEvidenceIds: EvidenceId[]; }
export interface Defense extends BaseEntity { title: string; type: string; status: string; description?: string; }
export interface ResearchSession extends BaseEntity { userId: UserId; query: string; response: string; sources: SearchResult[]; timestamp: string; }
export interface BriefAnalysisSession extends BaseEntity { textSnapshot: string; extractedCitations: string[]; riskScore: number; strengths: string[]; weaknesses: string[]; suggestions: string[]; missingAuthority: string[]; timestamp: string; }
export interface LegalRule extends BaseEntity { code: string; name: string; type: LegalRuleType; level?: string; summary?: string; text?: string; parentId?: string; children?: LegalRule[]; structuredContent?: any; }
export interface Playbook extends BaseEntity { name: string; jurisdiction: string; matterType: string; stages: any[]; }
export interface DiscoveryRequest extends BaseEntity { caseId: CaseId; type: DiscoveryType; propoundingParty: string; respondingParty: string; serviceDate: string; dueDate: string; status: DiscoveryStatus; title: string; description: string; }
export interface Deposition extends BaseEntity { caseId: CaseId; witnessName: string; date: string; location: string; status: string; courtReporter?: string; prepNotes?: string; }
export interface ESISource extends BaseEntity { caseId: CaseId; name: string; type: string; custodian: string; status: string; size?: string; notes?: string; }
export interface CustodianInterview extends BaseEntity { caseId: CaseId; custodianName: string; department: string; status: string; interviewDate?: string; notes?: string; relevantSources?: string[]; legalHoldId?: string; }
export interface Examination extends BaseEntity { caseId: CaseId; examinee: string; type: 'Physical' | 'Mental'; doctorName: string; date: string; status: 'Scheduled' | 'Report Received' | 'Disputed'; goodCause: string; reportDate?: string; }
export interface Vendor extends BaseEntity { name: string; serviceType: 'Court Reporting' | 'Videography' | 'Forensics' | 'Translation'; contactName: string; phone: string; email: string; status: 'Preferred' | 'Active' | 'Blocked'; rating: number; }
export interface Transcript extends BaseEntity { caseId: CaseId; deponent: string; date: string; fileId?: DocumentId; isFinal: boolean; wordCount: number; linkedDepositionId?: string; }
export interface SanctionMotion extends BaseEntity { caseId: CaseId; title: string; relatedRequestId: string; ruleBasis: 'Rule 37(a)' | 'Rule 37(b)' | 'Rule 37(c)'; status: 'Draft' | 'Filed' | 'Granted' | 'Denied'; description: string; filedDate?: string; }
export interface LegalHold extends BaseEntity { custodian: string; dept: string; issued: string; status: string; scope?: string; }
export interface PrivilegeLogEntry extends BaseEntity { date: string; author: string; recipient: string; type: string; basis: string; desc: string; }
export interface FirmAsset extends BaseEntity { name: string; type: string; assignedTo: string; status: string; purchaseDate: string; value: number; serialNumber?: string; }
export interface Pleading extends BaseEntity {
  // Core fields (aligned with backend Pleading entity)
  title: string; // Backend: varchar (required)
  description?: string; // Backend: text, nullable
  type: 'complaint' | 'answer' | 'motion' | 'brief' | 'memorandum' | 'reply' | 'opposition' | 'petition' | 'response'; // Backend: enum PleadingType
  caseId: CaseId; // Backend: uuid (required), FK to cases
  documentId?: DocumentId; // Backend: uuid
  status: 'draft' | 'review' | 'approved' | 'filed' | 'rejected' | 'withdrawn'; // Backend: enum PleadingStatus
  filedDate?: string; // Backend: timestamp
  filedBy?: string; // Backend: varchar
  courtName?: string; // Backend: varchar
  caseNumber?: string; // Backend: varchar
  docketNumber?: string; // Backend: varchar
  hearingDate?: string; // Backend: timestamp
  judge?: string; // Backend: varchar
  parties?: string[]; // Backend: simple-array
  summary?: string; // Backend: text
  customFields?: Record<string, any>; // Backend: jsonb
  tags?: string[]; // Backend: simple-array
  createdBy?: string; // Backend: uuid
  updatedBy?: string; // Backend: uuid
}

export interface Pleading extends BaseEntity {
  // Core fields (aligned with backend Pleading entity)
  title: string; // Backend: varchar (required)
  description?: string; // Backend: text, nullable
  type: 'complaint' | 'answer' | 'motion' | 'brief' | 'memorandum' | 'reply' | 'opposition' | 'petition' | 'response'; // Backend: enum PleadingType
  caseId: CaseId; // Backend: uuid (required), FK to cases
  documentId?: DocumentId; // Backend: uuid
  status: 'draft' | 'review' | 'approved' | 'filed' | 'rejected' | 'withdrawn'; // Backend: enum PleadingStatus
  filedDate?: string; // Backend: timestamp
  filedBy?: string; // Backend: varchar
  courtName?: string; // Backend: varchar
  caseNumber?: string; // Backend: varchar
  docketNumber?: string; // Backend: varchar
  hearingDate?: string; // Backend: timestamp
  judge?: string; // Backend: varchar
  parties?: string[]; // Backend: simple-array
  summary?: string; // Backend: text
  customFields?: Record<string, any>; // Backend: jsonb
  tags?: string[]; // Backend: simple-array
  createdBy?: string; // Backend: uuid
  updatedBy?: string; // Backend: uuid
}

export interface Employee extends BaseEntity {
  // Core fields (aligned with backend Employee entity)
  firstName: string; // Backend: varchar (required)
  lastName: string; // Backend: varchar (required)
  fullName?: string; // Backend: computed getter
  email: string; // Backend: varchar unique (required)
  role: 'Partner' | 'Senior Associate' | 'Associate' | 'Junior Associate' | 'Paralegal' | 'Legal Assistant' | 'Administrator' | 'Other'; // Backend: enum EmployeeRole
  department?: string; // Backend: varchar
  phone?: string; // Backend: varchar
  hireDate?: string; // Backend: timestamp
  status: 'Active' | 'Inactive' | 'On Leave' | 'Terminated'; // Backend: enum EmployeeStatus
  billingRate?: number; // Backend: decimal(10,2)
  targetBillableHours?: number; // Backend: int
  timeOffRequests?: any[]; // Backend: OneToMany relation
}

export interface Clause extends BaseEntity { 
  // Core fields (aligned with backend Clause entity)
  title: string; // Backend: varchar (required)
  name?: string; // Frontend legacy alias
  content: string; // Backend: text (required)
  description?: string; // Backend: text, nullable
  category: 'general' | 'contract' | 'motion' | 'pleading' | 'discovery' | 'custom' | string; // Backend: enum ClauseCategory
  tags?: string[]; // Backend: simple-array
  variables?: Record<string, any>; // Backend: jsonb
  isActive?: boolean; // Backend: boolean, default true
  usageCount: number; // Backend: int, default 0
  lastUsedAt?: string; // Backend: timestamp
  createdBy?: string; // Backend: uuid
  updatedBy?: string; // Backend: uuid
  metadata?: any; // Backend field
  // Frontend legacy fields
  version?: number;
  lastUpdated?: string;
  riskRating?: string;
  versions?: any[];
  embedding?: number[];
}
export interface WikiArticle extends BaseEntity { title: string; category: string; content: string; lastUpdated: string; isFavorite: boolean; author: string; }
export interface Precedent extends BaseEntity { title: string; type: string; description: string; tag: string; docId: DocumentId; embedding?: number[]; }
export interface QAItem extends BaseEntity { question: string; asker: string; time: string; answer: string; answerer: string; role: string; verified: boolean; }
export interface Risk extends BaseEntity { 
  // Core fields (aligned with backend Risk entity)
  title: string; // Backend: varchar (required)
  description: string; // Backend: text, nullable
  impact: 'Low' | 'Medium' | 'High' | 'Critical'; // Backend: enum RiskImpact
  probability: 'Low' | 'Medium' | 'High'; // Backend: enum RiskProbability
  status: 'Open' | 'Mitigated' | 'Accepted' | 'Closed'; // Backend: enum RiskStatus
  
  // Relationships
  caseId?: CaseId; // Backend: string/uuid, nullable
  
  // Mitigation
  mitigationStrategy?: string; // Backend: text
  mitigationPlan?: string; // Frontend alias
  
  // Scoring
  riskScore?: number; // Backend: decimal(3,1)
  
  // Tracking
  identifiedBy?: string; // Backend: string/uuid
  
  // Frontend-specific fields
  category?: RiskCategory; // Frontend categorization
  dateIdentified?: string;
  lastUpdated?: string;
}
export interface ConflictCheck extends BaseEntity { entityName: string; date: string; status: string; foundIn: string[]; checkedById: UserId; checkedBy: string; snapshot?: string; }
export interface EthicalWall extends BaseEntity { caseId: CaseId; title: string; restrictedGroups: GroupId[]; authorizedUsers: UserId[]; status: string; }
export interface AuditLogEntry extends BaseEntity { timestamp: string; userId: UserId; user: string; action: string; resource: string; ip: string; hash?: string; prevHash?: string; previousValue?: any; newValue?: any; }
export interface ConferralSession extends BaseEntity { caseId: CaseId; topic: string; date: string; method: ConferralMethod; participants: string[]; notes: string; result: ConferralResult; nextSteps?: string; linkedMotionId?: MotionId; }
export interface PlanSection { id: string; title: string; content: string; status: 'Agreed' | 'Disputed'; opposingComments?: string; }
export interface JointPlan extends BaseEntity { caseId: CaseId; title: string; lastUpdated: string; status: string; sections: PlanSection[]; }
export interface StipulationRequest extends BaseEntity { title: string; requestingParty: string; proposedDate: string; status: string; reason: string; caseId?: CaseId; }
export interface CommunicationItem extends BaseEntity { caseId: CaseId; userId: UserId; subject: string; date: string; type: string; direction: string; sender: string; recipient: string; preview: string; hasAttachment: boolean; status: string; isPrivileged: boolean; }
export interface ServiceJob extends BaseEntity { caseId: CaseId; requestorId: UserId; documentTitle: string; targetPerson: string; targetAddress: string; serverName: string; method: ServiceMethod; mailType?: string; trackingNumber?: string; addressedTo?: string; status: ServiceStatus; dueDate: string; attempts: number; servedDate?: string; gpsCoordinates?: string; notes?: string; signerName?: string; attemptHistory?: { date: string; result: string; lat?: number; long?: number }[]; }
export interface Attachment { 
  id?: string;
  name: string; 
  size?: string | number; 
  type?: string; 
  sender?: string; 
  date?: string; 
  url?: string; 
}

export interface Message extends BaseEntity { 
  conversationId?: string;
  senderId: UserId | 'me' | string; 
  text: string; 
  content?: string;
  timestamp: string; 
  status?: 'sent' | 'delivered' | 'read'; 
  read?: boolean;
  isPrivileged?: boolean; 
  attachments?: Attachment[]; 
}

export interface Conversation extends BaseEntity { name: string; role: string; status: string; unread: number; isExternal: boolean; messages: Message[]; draft?: string; }
export interface SystemNotification extends BaseEntity { text: string; time: string; read: boolean; type?: string; }
export interface JudgeMotionStat { name: string; grant: number; deny: number; }
export interface JudgeProfile extends BaseEntity {
motionStats: never[]; name: string; court: string; grantRateDismiss: number; grantRateSummary: number; avgCaseDuration: number; tendencies: string[]; 
}
export interface OpposingCounselProfile extends BaseEntity { name: string; firm: string; settlementRate: number; trialRate: number; avgSettlementVariance: number; }
export interface LegalEntity extends BaseEntity { id: EntityId; name: string; type: EntityType; roles: EntityRole[]; email?: string; phone?: string; website?: string; address?: string; city?: string; state?: string; country?: string; taxId?: string; company?: string; title?: string; barNumber?: string; jurisdiction?: string; status: 'Active' | 'Inactive' | 'Prospect' | 'Blacklisted' | 'Deceased'; riskScore: number; tags: string[]; notes?: string; linkedUserId?: UserId; avatar?: string; externalIds?: Record<string, string>; aliases?: string[]; }
export interface EntityRelationship extends BaseEntity { sourceId: EntityId; targetId: EntityId; type: 'Employment' | 'Subsidiary' | 'Counsel_For' | 'Sued_By' | 'Witness_For' | 'Family' | 'Conflict' | 'Board_Member'; description?: string; startDate?: string; endDate?: string; active: boolean; weight?: number; }
export type SqlCmd = 'SELECT' | 'INSERT' | 'UPDATE' | 'DELETE' | 'ALL';
export interface RLSPolicy extends BaseEntity { name: string; table: string; cmd: SqlCmd; roles: string[]; using: string; withCheck?: string; status: 'Active' | 'Disabled'; }
export type PermissionLevel = 'None' | 'Read' | 'Write' | 'Full' | 'Own';
export interface RolePermission extends BaseEntity { role: string; resource: string; access: PermissionLevel; }
export interface DataAnomaly { id: number; table: string; field: string; issue: string; count: number; sample: string; status: 'Detected' | 'Fixing' | 'Fixed' | 'Ignored'; severity: 'Low' | 'Medium' | 'High' | 'Critical'; }
export interface CleansingRule { id: string; name: string; targetField: string; operation: 'Trim' | 'Uppercase' | 'FormatPhone' | 'FormatDate' | 'RemoveSpecialChars' | 'CustomRegex' | 'Lowercase'; parameters?: any; isActive: boolean; }
export interface DedupeCluster { id: string; masterId: string; duplicates: { id: string; name: string; similarityScore: number; fieldMatch: string; }[]; status: 'Pending' | 'Merged' | 'Ignored'; }
export interface QualityMetricHistory { date: string; score: number; issuesFound: number; issuesFixed: number; }
export interface ParsedDocket {
  caseInfo: Partial<Case>;
  parties: Party[];
  docketEntries: DocketEntry[];
  deadlines?: any[];
}

export interface ModuleDefinition {
  id: string;
  label: string;
  component: LazyExoticComponent<any>;
  requiresAdmin?: boolean;
  intentMatcher?: (intent: string, context: any) => boolean;
  category: NavCategory;
  icon?: any;
}

export interface TimelineEvent {
  id: string;
  date: string;
  title: string;
  type: 'milestone' | 'document' | 'billing' | 'motion' | 'hearing' | 'task' | 'planning';
  description?: string;
  relatedId?: string;
}

export interface CalendarEventItem {
  id: string;
  title: string;
  date: string;
  type: 'case' | 'deadline' | 'hearing' | 'task' | 'compliance';
  description?: string;
  priority?: string;
  location?: string;
}

export interface CasePhase {
  id: string;
  caseId: CaseId;
  name: string;
  startDate: string;
  duration: number;
  status: string;
  color: string;
}

export interface StaffMember {
  id: string;
  userId: UserId;
  name: string;
  email: string;
  role: 'Associate' | 'Paralegal' | 'Senior Partner' | 'Administrator';
  phone: string;
  billableTarget: number;
  currentBillable: number;
  utilizationRate: number;
  salary: number;
  status: 'Active' | 'Inactive';
  startDate: string;
}

export interface ProductionSet {
  id: string;
  caseId: CaseId;
  name: string;
  date: string;
  batesRange: string;
  docCount: number;
  size: string;
  format: string;
  status: 'Delivered' | 'Staging' | 'Failed';
}

export interface WIPStat { name: string; wip: number; billed: number; }
export interface RealizationStat { id?: string; name: string; value: number; color: string; }
export interface NexusNodeData { 
  id: string; 
  type: 'root' | 'org' | 'party' | 'evidence' | 'motion'; 
  label: string; 
  original: Case | Party | EvidenceItem | Motion | object; 
  status?: string;
}
export interface WarRoomData { case: Case; witnesses: Party[]; documents: LegalDocument[]; motions: Motion[]; docket: DocketEntry[]; evidence: EvidenceItem[]; tasks: WorkflowTask[]; }
export interface OutcomePredictionData {
  subject: string;
  A: number;
  fullMark: number;
}
